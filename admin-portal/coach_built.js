const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StressForm-CLeP-nkU.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/index-BmJ-88Ue.js","assets/index-Djawitxx.css","assets/StressForm-D4XwvPu8.css","assets/EmpathyGuide--EYqbw2R.js","assets/EmpathyGuide-DsO2R8WJ.css","assets/HabitCard-mQW7dNQj.js","assets/HabitCard-D7qLR8xf.css"])))=>i.map(i=>d[i]);
import{d as Et,j as Lt,c as d,a as s,F as b,m as w,v as q,h as r,t as a,n as X,q as p,f as B,o as l,U as rt,V as dt,x as Hs,b as n,w as i,g as k,J as Fs,W as $t,X as Gs,p as x,Y as ut,u as Vs,e as f,r as C,B as Js,y as Tt,z as zt,G as Ws,Z as Ys,_ as Zs,i as h,l as At,$ as ct}from"./index-BmJ-88Ue.js";import{u as Xs}from"./useResponsive-Bs3FJpEV.js";/* empty css                                                                               */import je from"./request-m9eGooiH.js";import{_ as Qt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{A as It}from"./AlertOutlined-B0zwkL-V.js";import{M as Pt}from"./MessageOutlined-DC0hoI3K.js";import{T as jt}from"./TeamOutlined-AoQbAbFJ.js";import{R as Ot}from"./RobotOutlined-DIwlq04n.js";import{A as Ks}from"./AppstoreOutlined-C1D04g4q.js";import{B as Dt}from"./BookOutlined-CATrEuMY.js";import{H as eo}from"./HomeOutlined-BMgwiZ0m.js";import{L as to}from"./LogoutOutlined-4-oQ9FTd.js";import{B as so,A as oo}from"./BellOutlined-O6pxmrbT.js";import"./index-B9ygI19o.js";const no={class:"coach-health-summary"},lo={class:"summary-header"},ao={class:"metric-icon"},io={class:"metric-body"},ro={class:"metric-value"},uo={class:"metric-unit"},co={class:"metric-label"},po={key:0,class:"task-progress"},vo={class:"progress-text"},go={class:"progress-bar-bg"},fo=Et({__name:"CoachSelfHealthSummary",props:{compact:{type:Boolean}},setup(R){const T="/api",K=localStorage.getItem("admin_token")||"",M={Authorization:`Bearer ${K}`},S=B([{key:"glucose",icon:"ðŸ©¸",label:"æœ€è¿‘è¡€ç³–",value:null,unit:"mmol/L",loading:!0},{key:"sleep",icon:"ðŸ˜´",label:"æ˜¨æ™šç¡çœ ",value:null,unit:"åˆ†",loading:!0},{key:"steps",icon:"ðŸš¶",label:"ä»Šæ—¥æ­¥æ•°",value:null,unit:"æ­¥",loading:!0},{key:"weight",icon:"âš–ï¸",label:"ä½“é‡",value:null,unit:"kg",loading:!0}]),ee=B({done:0,total:0,pct:0});async function $(){try{const I=await fetch(`${T}/v1/health-data/summary`,{headers:M});if(I.ok){const _=await I.json();_.latest_glucose?.value!=null&&(S[0].value=String(_.latest_glucose.value)),_.sleep_score!=null&&(S[1].value=String(_.sleep_score)),_.steps_today!=null&&(S[2].value=String(_.steps_today)),_.latest_weight_kg!=null&&(S[3].value=String(_.latest_weight_kg))}}catch{}S.forEach(I=>I.loading=!1)}async function _e(){try{const I=await fetch(`${T}/v1/daily-tasks/today`,{headers:M});if(I.ok){const _=await I.json();ee.done=_.done_count??0,ee.total=_.total_count??0,ee.pct=_.completion_pct??0}}catch{}}return Lt(()=>{K&&($(),_e())}),(I,_)=>(l(),d("div",no,[s("div",lo,[_[1]||(_[1]=s("span",{class:"summary-title"},"ðŸ’š æˆ‘çš„å¥åº·",-1)),s("a",{class:"detail-link",onClick:_[0]||(_[0]=H=>I.$router.push("/coach/workbench?tab=profile"))}," æŸ¥çœ‹è¯¦ç»†æ¡£æ¡ˆ â†’ ")]),s("div",{class:q(["metrics-grid",{compact:R.compact}])},[(l(!0),d(b,null,w(S,H=>(l(),d("div",{class:"metric-card",key:H.key},[s("div",ao,a(H.icon),1),s("div",io,[s("div",ro,[r(a(H.loading?"...":H.value??"--")+" ",1),s("span",uo,a(H.unit),1)]),s("div",co,a(H.label),1)])]))),128))],2),ee.total>0?(l(),d("div",po,[s("div",vo,[_[2]||(_[2]=r(" ä»Šæ—¥ä»»åŠ¡: å·²å®Œæˆ ",-1)),s("b",null,a(ee.done),1),r(" / "+a(ee.total),1)]),s("div",go,[s("div",{class:"progress-bar-fill",style:X({width:ee.pct+"%"})},null,4)])])):p("",!0)]))}}),mo=Qt(fo,[["__scopeId","data-v-41d6ed9f"]]),yo={analyze(R){return je.post("/v1/copilot/analyze",R)},streamPrescription(R){const T="/api",K=localStorage.getItem("admin_token");try{const M=`${T}/v1/copilot/stream/${R}?token=${K||""}`;return new EventSource(M)}catch{return console.warn("[Copilot] SSE connection failed, falling back to mock mode"),null}},async getPrescriptionHistory(R,T={}){return(await je.get(`/v1/copilot/prescriptions/${R}`,{params:T})).data},async submitToolAction(R,T){return(await je.post(`/v1/copilot/prescriptions/${R}/action`,T)).data},async getSuggestedActions(R={}){return(await je.post("/v1/copilot/suggested-actions",R)).data}},_o={class:"coach-portal"},ho={class:"portal-header"},ko={class:"header-left"},bo={class:"greeting"},xo={class:"header-right"},wo={key:0,style:{"text-align":"center",padding:"60px 0"}},Co={key:1,class:"overview-section"},So={class:"section-title"},$o={class:"overview-cards"},To={class:"card-icon todo"},zo={class:"card-content"},Ao={class:"card-value"},Io={class:"overview-card"},Po={class:"card-icon done"},jo={class:"card-content"},Oo={class:"card-value"},Do={class:"card-icon alert"},Eo={class:"card-content"},Lo={class:"card-value"},Qo={class:"card-icon message"},Mo={class:"card-content"},Ro={class:"card-value"},Uo={class:"card-icon",style:{background:"#f9f0ff",color:"#722ed1"}},No={class:"card-content"},qo={class:"card-value"},Bo={key:0,class:"device-alerts-section",style:{"margin-top":"12px"}},Ho={style:{flex:"1"}},Fo={style:{"font-size":"13px","font-weight":"500"}},Go={style:{"font-size":"11px",color:"#999"}},Vo={key:3,class:"students-section"},Jo={class:"section-header"},Wo={class:"section-title"},Yo={class:"student-list"},Zo=["onClick"],Xo={class:"student-avatar"},Ko={class:"student-info"},en={class:"student-name"},tn={class:"student-condition"},sn={class:"student-meta"},on={class:"meta-item"},nn={class:"student-action"},ln={key:4,class:"ai-section"},an={class:"section-header"},rn={class:"section-title"},dn={class:"ai-recommendations"},un={class:"rec-header"},cn={class:"rec-student"},pn={class:"rec-content"},vn={key:0,class:"rec-modify-area"},gn=["onUpdate:modelValue"],fn={class:"modify-actions"},mn={key:1,class:"rec-actions"},yn={key:2,class:"rec-result"},_n={key:0,class:"result-text approved"},hn={key:1,class:"result-text modified"},kn={key:2,class:"result-text rejected"},bn={key:5,class:"intervention-section"},xn={class:"section-header"},wn={class:"section-title"},Cn={class:"intervention-grid"},Sn=["onClick"],$n={class:"tool-icon"},Tn={class:"tool-name"},zn={key:6,class:"learning-section"},An={class:"section-header"},In={class:"section-title"},Pn={class:"learning-progress"},jn={class:"progress-item"},On={class:"progress-label"},Dn={class:"progress-value"},En={class:"progress-stats"},Ln={class:"stat-item"},Qn={class:"stat-value"},Mn={class:"stat-item"},Rn={class:"stat-value"},Un={class:"stat-item"},Nn={class:"stat-value"},qn={class:"bottom-nav"},Bn={class:"nav-item active"},Hn={class:"assessment-panel"},Fn={class:"assign-form card",style:{padding:"16px","margin-bottom":"16px",border:"1px solid #f0f0f0","border-radius":"8px"}},Gn={key:0,style:{"margin-bottom":"16px",padding:"12px",background:"#f0f9ff","border-radius":"8px",border:"1px solid #bae7ff"}},Vn={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Jn={style:{"font-weight":"500"}},Wn={style:{"font-size":"12px",color:"#666","margin-top":"4px"}},Yn={style:{"margin-bottom":"12px"}},Zn={style:{"margin-bottom":"12px"}},Xn={key:1,style:{"margin-bottom":"12px"}},Kn={key:2,style:{"margin-bottom":"12px"}},el={key:0,style:{"margin-bottom":"8px"}},tl={style:{"max-height":"280px","overflow-y":"auto",border:"1px solid #f0f0f0","border-radius":"6px"}},sl={key:0,style:{"text-align":"center",padding:"20px"}},ol={style:{padding:"6px 12px",background:"#fafafa","font-size":"12px","font-weight":"600",color:"#666",position:"sticky",top:"0","z-index":"1"}},nl=["onClick"],ll={style:{color:"#999","font-size":"11px","flex-shrink":"0"}},al={style:{flex:"1"}},il={style:{"font-size":"12px",color:"#999","margin-top":"4px","text-align":"right"}},rl={key:3,style:{"margin-bottom":"12px"}},dl={style:{"flex-shrink":"0",color:"#999","font-size":"12px"}},ul={key:4,style:{"margin-bottom":"12px"}},cl={style:{"margin-bottom":"12px"}},pl={style:{"margin-top":"16px"}},vl={key:0,style:{"text-align":"center",padding:"24px",color:"#999"}},gl={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"8px"}},fl={style:{"font-weight":"500"}},ml={style:{"font-size":"12px",color:"#999"}},yl={style:{"margin-left":"12px"}},_l={class:"review-panel"},hl={key:0,style:{"text-align":"center",padding:"40px",color:"#999"}},kl=["onClick"],bl={style:{display:"flex","justify-content":"space-between","align-items":"center"}},xl={style:{"font-weight":"600"}},wl={style:{"font-size":"12px",color:"#999","margin-top":"4px"}},Cl={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"8px"}},Sl={style:{"margin-left":"8px","font-weight":"500"}},$l={style:{background:"#fafafa",padding:"8px 12px","border-radius":"6px","font-size":"13px","margin-bottom":"8px"}},Tl={key:0},zl={key:0},Al={key:1},Il={key:0,style:{"margin-bottom":"8px"}},Pl={style:{"margin-top":"8px",display:"flex",gap:"8px"}},jl={key:1,style:{display:"flex",gap:"8px"}},Ol={style:{"margin-top":"16px"}},Dl={key:0,style:{"text-align":"center","font-size":"12px",color:"#ff4d4f","margin-top":"4px"}},El={class:"profile-panel"},Ll={class:"profile-card"},Ql={class:"profile-name"},Ml={class:"profile-stats"},Rl={class:"pstat"},Ul={class:"pstat-val"},Nl={class:"pstat"},ql={class:"pstat-val"},Bl={class:"pstat"},Hl={class:"pstat-val"},Fl={class:"profile-section"},Gl={class:"specialty-tags"},Vl={class:"profile-section"},Jl={class:"settings-panel"},Wl={class:"setting-item"},Yl={class:"setting-item"},Zl={class:"setting-item"},Xl={class:"setting-item"},Kl={class:"challenge-assign-panel"},ea={style:{"margin-bottom":"16px"}},ta={key:0,style:{"text-align":"center",padding:"16px",color:"#999","font-size":"13px"}},sa={style:{display:"flex","justify-content":"space-between","align-items":"center"}},oa={style:{"font-weight":"500"}},na={style:{"font-size":"12px",color:"#999","margin-top":"4px"}},la={key:0,style:{"text-align":"center",padding:"16px",color:"#999","font-size":"13px"}},aa={style:{flex:"1"}},ia={style:{"font-weight":"500"}},ra={style:{"font-size":"12px",color:"#999","margin-top":"2px"}},da={key:0,style:{"font-size":"12px",color:"#666","margin-top":"4px"}},ua={class:"push-queue-panel"},ca={style:{display:"flex",gap:"16px","margin-bottom":"16px"}},pa={style:{flex:"1","text-align":"center",padding:"12px",background:"#f6ffed","border-radius":"8px"}},va={style:{"font-size":"20px","font-weight":"700",color:"#52c41a"}},ga={style:{flex:"1","text-align":"center",padding:"12px",background:"#fff7e6","border-radius":"8px"}},fa={style:{"font-size":"20px","font-weight":"700",color:"#faad14"}},ma={style:{flex:"1","text-align":"center",padding:"12px",background:"#e6f7ff","border-radius":"8px"}},ya={style:{"font-size":"20px","font-weight":"700",color:"#1890ff"}},_a={style:{flex:"1","text-align":"center",padding:"12px",background:"#fff1f0","border-radius":"8px"}},ha={style:{"font-size":"20px","font-weight":"700",color:"#ff4d4f"}},ka={style:{display:"flex",gap:"8px","margin-bottom":"12px","flex-wrap":"wrap","align-items":"center"}},ba={key:0,style:{"text-align":"center",padding:"40px",color:"#999"}},xa={key:0,style:{display:"flex","align-items":"flex-start","padding-top":"2px"}},wa={style:{flex:"1"}},Ca={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"4px"}},Sa={style:{display:"flex","align-items":"center",gap:"6px"}},$a={style:{"font-weight":"500","font-size":"14px"}},Ta={key:0,style:{"font-size":"12px",color:"#666","margin-bottom":"2px"}},za={key:1,style:{"font-size":"13px",color:"#333","margin-bottom":"6px","white-space":"pre-line","max-height":"60px",overflow:"hidden"}},Aa={style:{"font-size":"11px",color:"#999"}},Ia={key:0,style:{"margin-left":"8px",color:"#666"}},Pa={key:2,style:{"margin-top":"8px",display:"flex",gap:"8px","align-items":"center"}},ja={key:3,style:{"margin-top":"8px",padding:"8px",background:"#fafafa","border-radius":"6px"}},Oa={style:{display:"flex",gap:"8px"}},Da={key:0,style:{"text-align":"center","margin-top":"12px"}},Ea={key:0,class:"student-detail"},La={class:"detail-header"},Qa={class:"detail-info"},Ma={key:1,class:"health-metrics"},Ra={class:"metric-item"},Ua={class:"metric-value"},Na={class:"metric-item"},qa={class:"metric-value"},Ba={class:"metric-item"},Ha={class:"metric-value"},Fa={class:"metric-item"},Ga={class:"metric-value"},Va={key:1,class:"metric-item"},Ja={class:"metric-value"},Wa={key:2,class:"metric-item"},Ya={class:"metric-value"},Za={key:2,style:{"margin-top":"8px"}},Xa={class:"followup-records"},Ka={class:"record-item"},ei={class:"record-time"},ti={class:"record-content"},si={key:1,class:"intervention-plan"},oi={key:1},ni={key:0,style:{"margin-top":"8px"}},li={key:1,style:{"margin-top":"8px",color:"#888"}},ai={key:2,style:{"margin-top":"12px"}},ii={key:3,class:"dx-grid"},ri={class:"dx-card"},di={class:"info-box"},ui={class:"info-row"},ci={class:"info-value"},pi={class:"info-row"},vi={class:"info-value"},gi={class:"info-row"},fi={class:"info-value"},mi={class:"bar-container"},yi={class:"bar-label"},_i={class:"level-badges"},hi={class:"evidence-list"},ki={class:"evidence-label"},bi={class:"dx-card"},xi={class:"spi-circle-wrap"},wi={class:"spi-number"},Ci={class:"info-box",style:{"margin-top":"16px"}},Si={class:"info-row"},$i={class:"info-value"},Ti={class:"formula-box"},zi={key:1,class:"dx-grid"},Ai={class:"dx-card"},Ii={class:"phase-tags"},Pi={class:"phase-info"},ji={class:"task-list"},Oi={class:"task-header"},Di={class:"task-name"},Ei={class:"task-target"},Li={class:"strategy-tags"},Qi={style:{"margin-top":"16px",display:"flex",gap:"8px"}},Mi={class:"dx-card"},Ri={class:"suggestion-list"},Ui={class:"suggestion-header"},Ni={class:"suggestion-title"},qi={class:"suggestion-message"},Bi={class:"suggestion-actions"},Hi={key:0,class:"copilot-section"},Fi={class:"copilot-header"},Gi={class:"copilot-stage"},Vi={key:0,class:"copilot-tags"},Ji={class:"copilot-prescriptions"},Wi={class:"rx-header"},Yi={class:"rx-instruction"},Zi={class:"rx-tool-area"},Xi={key:1,class:"rx-tool-actions"},Ki={key:1,class:"copilot-transition"},er={class:"copilot-mode-switch",style:{"margin-bottom":"10px"}},tr={class:"copilot-test"},sr={key:2,class:"copilot-empty"},or={key:1,class:"copilot-toggle"},nr={key:2,class:"followup-section"},lr={key:0,class:"ai-generating"},ar={key:1,class:"ai-suggestion-box"},ir={class:"suggestion-text"},rr={class:"suggestion-actions"},dr={class:"template-section"},ur={class:"template-tags"},cr={class:"followup-compose"},pr={class:"compose-actions"},vr={key:2,class:"followup-history"},gr={class:"history-time"},fr={class:"history-content"},mr={class:"detail-actions"},yr=30,_r=Et({__name:"CoachHome",setup(R){const T=Vs(),{isMobile:K,modalWidth:M}=Xs(),S="/api",$={Authorization:`Bearer ${localStorage.getItem("admin_token")}`};function _e(o){return o.status===401?(localStorage.removeItem("admin_token"),T.push("/login"),!0):!1}const I=f(!1),_=B({id:"",name:localStorage.getItem("admin_name")||"æ•™ç»ƒ",avatar:"",level:"L0",levelName:"è§ä¹ æ•™ç»ƒ",specialty:[]}),H=f(0),j=B({pendingFollowups:0,completedFollowups:0,alertStudents:0,unreadMessages:0}),ae=f([]),z=B({spiScore:0,successRate:0,sixReasons:[],psychLevels:[{label:"è®¤çŸ¥å±‚",color:"blue"},{label:"æƒ…ç»ªå±‚",color:"orange"},{label:"åŠ¨æœºå±‚",color:"green"},{label:"è¡Œä¸ºå±‚",color:"purple"}],problem:"",difficulty:0,purpose:"",evidence:[],interventionFormula:"SPI = 0.4Ã—è¡Œä¸ºæ‰§è¡Œ + 0.3Ã—æŒ‡æ ‡æ”¹å–„ + 0.2Ã—çŸ¥è¯†æŽŒæ¡ + 0.1Ã—æ€åº¦è½¬å˜",interventionAlert:""}),F=B({phase:{current:"",week:"",total:""},phaseTags:[],targetBehaviors:[],strategies:[]}),pt=f([]),G=f(!1),he=f(""),de=f({});async function Mt(o){G.value=!0,he.value="";try{const e=await fetch(`${S}/v1/copilot/generate-prescription`,{method:"POST",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify({student_id:o})});if(_e(e))return;if(!e.ok){const g=await e.json().catch(()=>({}));throw new Error(g.detail||`è¯·æ±‚å¤±è´¥ (${e.status})`)}const u=await e.json();if(de.value=u.meta||{},u.diagnosis){const g=u.diagnosis;z.spiScore=g.spiScore??0,z.successRate=g.successRate??0,z.problem=g.problem??"",z.difficulty=g.difficulty??0,z.purpose=g.purpose??"",z.interventionAlert=g.interventionAlert??"",Array.isArray(g.sixReasons)&&(z.sixReasons=g.sixReasons),Array.isArray(g.evidence)&&(z.evidence=g.evidence)}if(u.prescription){const g=u.prescription;g.phase&&Object.assign(F.phase,g.phase),Array.isArray(g.phaseTags)&&(F.phaseTags=g.phaseTags),Array.isArray(g.targetBehaviors)&&(F.targetBehaviors=g.targetBehaviors),Array.isArray(g.strategies)&&(F.strategies=g.strategies)}Array.isArray(u.ai_suggestions)&&(pt.value=u.ai_suggestions),u.health_summary&&m.value&&(m.value.healthData={...m.value.healthData,fastingGlucose:u.health_summary.fastingGlucose??m.value.healthData?.fastingGlucose,postprandialGlucose:u.health_summary.postprandialGlucose??m.value.healthData?.postprandialGlucose,weight:u.health_summary.weight??m.value.healthData?.weight,exerciseMinutes:u.health_summary.exerciseMinutes??m.value.healthData?.exerciseMinutes,sleepHours:u.health_summary.sleepHours,heartRate:u.health_summary.heartRate,highlights:u.health_summary.highlights}),u.intervention_plan&&m.value&&(m.value.interventionPlan=u.intervention_plan)}catch(e){he.value=e.message||"AI åˆ†æžå¤±è´¥",console.error("[copilot-rx]",e)}finally{G.value=!1}}const ke=f("live"),vt={STRESS_ASSESSMENT_FORM:rt(dt(()=>ct(()=>import("./StressForm-CLeP-nkU.js"),__vite__mapDeps([0,1,2,3,4])))),EMPATHY_MODULE_01:rt(dt(()=>ct(()=>import("./EmpathyGuide--EYqbw2R.js"),__vite__mapDeps([5,2,3,1,6])))),HABIT_DESIGNER:rt(dt(()=>ct(()=>import("./HabitCard-mQW7dNQj.js"),__vite__mapDeps([7,2,3,1,8])))),GENERAL_CHAT:null},Oe=f(!0),be=f(!1),xe=f(""),A=B({currentStage:"S1",stageChanged:!1,hitTags:[],prescriptions:[],transitionEvent:null,stateHistory:[]}),Rt=async(o,e)=>{be.value=!0;try{let u;if(e==="live")u=(await yo.analyze({uid:m.value?.name||"DEMO_USER",message:o,context:{stage:A.currentStage,baps:{}}})).data;else{const D=`${S}`;u=await(await fetch(`${D}/v1/test/simulate-chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:m.value?.name||"DEMO_USER",message:o,context:{stage:A.currentStage,baps:{}}})})).json()}A.hitTags=u.triggered_tags||[];const g=u.outputs?.to_coach;A.prescriptions=Array.isArray(g)?g:g?.alerts||[],A.transitionEvent=u.transition_event||null,u.new_stage&&(A.stageChanged=u.new_stage!==A.currentStage,A.currentStage=u.new_stage),u.state_history&&(A.stateHistory=u.state_history)}catch(u){h.error("å…±é©¾å°è¯·æ±‚å¤±è´¥: "+u.message)}finally{be.value=!1}},Ut=async()=>{if(!xe.value){h.warning("è¯·é€‰æ‹©æ¨¡æ‹Ÿå¯¹è¯");return}await Rt(xe.value,ke.value)},De=o=>{o.action==="adopt"?(h.success("å·²é‡‡çº³å»ºè®®ï¼Œå¯åœ¨è·Ÿè¿›å¯¹è¯ä¸­ä½¿ç”¨"),o.instruction&&(L.value=o.instruction)):o.action==="ignore"?h.info("å·²æ ‡è®°ä¸ºæš‚ä¸å¤„ç†"):h.success("æ“ä½œå·²æ‰§è¡Œ")},Ee=f([]),Nt=f([{id:"t1",icon:"ðŸ“‹",name:"è¯„ä¼°é‡è¡¨"},{id:"t2",icon:"ðŸ“š",name:"å¥åº·è¯¾ç¨‹"},{id:"t3",icon:"ðŸŽ¯",name:"å®¡æ ¸æŽ¨é€"},{id:"t4",icon:"ðŸ’¬",name:"å»ºè®®æ¨¡æ¿"},{id:"t5",icon:"ðŸ“Š",name:"æ•°æ®åˆ†æž"},{id:"t6",icon:"ðŸ¤–",name:"AI åŠ©æ‰‹"},{id:"t7",icon:"âœ…",name:"æŽ¨é€å®¡æ‰¹"}]),V=B({certProgress:0,coursesCompleted:0,coursesTotal:0,examsPassed:0,examsTotal:0,caseCount:0}),ue=f(!1),m=f(null),we=f(!1),Ce=f(!1),Le=f(!1),Qe=f(!1),Me=f(!1),ce=f(null),Re=f(!1),se=f([]),Ue=f(!1),Se=f([]),Ne=f(null),qe=f(!1),oe=B({pending:0,approved:0,rejected:0,sent:0,expired:0}),U=B({source_type:null,priority:null,status:"pending"}),Be=f(!1),He=f([]),Fe=f(0),Ge=f(1),J=f([]),Ve=f(!1),v=B({studentId:null,pushType:"questions",questionPreset:"hf20",questionIds:[],selectedQuestionIds:[],customQuestions:[""],scales:[],note:""}),$e=f([]),Je=f(!1),We=f(""),qt=[{label:"TTM7 è¡Œä¸ºé˜¶æ®µ",value:"ttm7"},{label:"BIG5 å¤§äº”äººæ ¼",value:"big5"},{label:"BPT-6 è¡Œä¸ºç±»åž‹",value:"bpt6"},{label:"CAPACITY æ”¹å˜æ½œåŠ›",value:"capacity"},{label:"SPI æˆåŠŸå¯èƒ½æ€§",value:"spi"}],Y=At(()=>v.pushType==="questions"?v.questionPreset?1:v.questionIds.length:v.pushType==="behavior"?v.selectedQuestionIds.length>0?1:0:v.pushType==="custom"?v.customQuestions.filter(o=>o.trim()).length>0?1:0:v.scales.length),Bt=At(()=>{const o={ttm7:{key:"ttm7",label:"TTM7 è¡Œä¸ºé˜¶æ®µ",questions:[]},bpt6:{key:"bpt6",label:"BPT-6 è¡Œä¸ºç±»åž‹",questions:[]},spi:{key:"spi",label:"SPI æˆåŠŸå¯èƒ½æ€§",questions:[]},capacity:{key:"capacity",label:"CAPACITY æ”¹å˜æ½œåŠ›",questions:[]},big_five:{key:"big_five",label:"BIG5 å¤§äº”äººæ ¼",questions:[]}},e=We.value.trim().toLowerCase();for(const u of $e.value){if(e&&!u.text.toLowerCase().includes(e)&&!u.id.toLowerCase().includes(e)&&!u.dimension.toLowerCase().includes(e))continue;const g=o[u.questionnaire];g&&g.questions.push(u)}return Object.values(o).filter(u=>u.questions.length>0)}),pe=f(!1),Ye=f(!1),Ze=f([]),ve=f([]),Xe=f([]),Ke=f(!1),et=f([]),E=f(null),tt=f(!1),te=B({notifications:!0,alertReminder:!0,autoAIPush:!1,darkMode:!1}),Ht=()=>{const o=new Date().getHours();return o<12?"æ—©ä¸Šå¥½":o<18?"ä¸‹åˆå¥½":"æ™šä¸Šå¥½"},gt=o=>({L0:"default",L1:"blue",L2:"green",L3:"purple",L4:"gold"})[o]||"default",Te=o=>({S0:"è§‰é†’æœŸ",S1:"æ¾åŠ¨æœŸ",S2:"æŽ¢ç´¢æœŸ",S3:"å‡†å¤‡æœŸ",S4:"è¡ŒåŠ¨æœŸ",S5:"åšæŒæœŸ",S6:"èžå…¥æœŸ",precontemplation:"å‰æ„å‘æœŸ",contemplation:"æ„å‘æœŸ",preparation:"å‡†å¤‡æœŸ",action:"è¡ŒåŠ¨æœŸ",maintenance:"ç»´æŒæœŸ",unknown:"æœªè¯„ä¼°"})[o]||o,Ft=o=>({S0:"default",S1:"default",S2:"blue",S3:"cyan",S4:"green",S5:"purple",S6:"gold",precontemplation:"default",contemplation:"blue",preparation:"cyan",action:"green",maintenance:"purple",unknown:"default"})[o]||"default",ft=o=>{m.value=o,ue.value=!0,Mt(o.id)},ze=f(!1),L=f(""),Z=f(""),Ae=f(!1),ge=f([]),Gt=[{id:"care",label:"æ—¥å¸¸å…³æ€€",content:"{name}æ‚¨å¥½ï¼Œæœ€è¿‘èº«ä½“æ„Ÿè§‰æ€Žä¹ˆæ ·ï¼Ÿè¡€ç³–æŽ§åˆ¶æƒ…å†µå¦‚ä½•ï¼Ÿæœ‰ä»€ä¹ˆéœ€è¦å¸®åŠ©çš„å—ï¼Ÿ"},{id:"remind",label:"æ‰“å¡æé†’",content:"{name}æ‚¨å¥½ï¼Œæ³¨æ„åˆ°æ‚¨æœ€è¿‘å‡ å¤©æ²¡æœ‰æ‰“å¡è®°å½•ï¼Œæ˜¯é‡åˆ°ä»€ä¹ˆå›°éš¾äº†å—ï¼Ÿæˆ‘ä»¬å¯ä»¥ä¸€èµ·è°ƒæ•´æ–¹æ¡ˆã€‚"},{id:"glucose",label:"è¡€ç³–å¼‚å¸¸",content:"{name}æ‚¨å¥½ï¼Œæ‚¨è¿‘æœŸçš„è¡€ç³–æ•°æ®æœ‰äº›æ³¢åŠ¨ï¼Œå»ºè®®æ‚¨æ³¨æ„é¥®é£ŸæŽ§åˆ¶ï¼Œç‰¹åˆ«æ˜¯ä¸»é£Ÿçš„æ‘„å…¥é‡ã€‚éœ€è¦æˆ‘ä¸ºæ‚¨è°ƒæ•´é¥®é£Ÿæ–¹æ¡ˆå—ï¼Ÿ"},{id:"exercise",label:"è¿åŠ¨é¼“åŠ±",content:"{name}æ‚¨å¥½ï¼Œæœ¬å‘¨è¿åŠ¨é‡è¿˜ä¸å¤Ÿç›®æ ‡å“¦ã€‚å»ºè®®æ¯å¤©é¥­åŽæ•£æ­¥15-30åˆ†é’Ÿï¼Œå¾ªåºæ¸è¿›ï¼Œæ‚¨çœ‹æ€Žä¹ˆæ ·ï¼Ÿ"},{id:"progress",label:"é˜¶æ®µè¿›å±•",content:"{name}æ‚¨å¥½ï¼Œæ‚¨ç›®å‰çš„å„é¡¹æŒ‡æ ‡éƒ½åœ¨æ”¹å–„ä¸­ï¼Œç»§ç»­ä¿æŒï¼æŽ¥ä¸‹æ¥æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è¿›ä¸€æ­¥ç¨³å®šè¡€ç³–æ°´å¹³ã€‚"}],mt=o=>{ue.value||(m.value=o,ue.value=!0),ze.value=!0,L.value="",Z.value="",ge.value=[],st(o)},st=async o=>{Ae.value=!0,Z.value="";const e=`ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è¡Œä¸ºå¥åº·æ•™ç»ƒï¼Œè¯·æ ¹æ®ä»¥ä¸‹å­¦å‘˜æ•°æ®ç”Ÿæˆä¸€æ¡ç®€çŸ­çš„è·Ÿè¿›æ¶ˆæ¯ï¼ˆ100å­—ä»¥å†…ï¼‰ï¼Œè¯­æ°”æ¸©æš–ä¸“ä¸šï¼š
å­¦å‘˜ï¼š${o.name}
ç—…æƒ…ï¼š${o.condition}
è¡Œä¸ºé˜¶æ®µï¼š${Te(o.stage)}
ç©ºè…¹è¡€ç³–ï¼š${o.healthData.fastingGlucose} mmol/L
é¤åŽè¡€ç³–ï¼š${o.healthData.postprandialGlucose} mmol/L
ä½“é‡ï¼š${o.healthData.weight} kg
æœ¬å‘¨è¿åŠ¨ï¼š${o.healthData.exerciseMinutes} åˆ†é’Ÿ
æœ€è¿‘è”ç³»ï¼š${o.lastContact}
è¯·ç›´æŽ¥è¾“å‡ºè·Ÿè¿›æ¶ˆæ¯å†…å®¹ï¼Œä¸è¦åŠ ä»»ä½•å‰ç¼€ã€‚`;try{const g=await(await fetch(`${S}/v1/copilot/chat-sync`,{method:"POST",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify({message:e,user_id:"coach001"})})).json();Z.value=g.reply||"æ— æ³•ç”Ÿæˆå»ºè®®ï¼Œè¯·æ‰‹åŠ¨è¾“å…¥"}catch{Z.value=`${o.name}æ‚¨å¥½ï¼Œæ³¨æ„åˆ°æ‚¨æœ€è¿‘çš„å¥åº·æ•°æ®æœ‰äº›å˜åŒ–ï¼Œæƒ³äº†è§£ä¸€ä¸‹æ‚¨çš„è¿‘å†µã€‚æœ‰ä»€ä¹ˆéœ€è¦å¸®åŠ©çš„å—ï¼Ÿ`}Ae.value=!1},Vt=async o=>{if(!L.value.trim())return;const e=new Date,u=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`;try{await fetch(`${S}/v1/coach/messages`,{method:"POST",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify({student_id:o.id,content:L.value,message_type:L.value===Z.value?"advice":"text"})})}catch{}ge.value.push({time:u,content:L.value,source:L.value===Z.value?"ai":"manual"}),o.records.unshift({id:"r-"+Date.now(),type:"message",time:u,content:L.value}),h.success(`å·²å‘é€è·Ÿè¿›æ¶ˆæ¯ç»™ ${o.name}`),L.value="",j.completedFollowups++,j.pendingFollowups=Math.max(0,j.pendingFollowups-1)},Jt=o=>{o.status="approved",h.success(`å·²æ‰¹å‡†æŽ¨é€ç»™ ${o.studentName}`)},Wt=o=>{o.status="rejected",h.warning(`å·²é©³å›žå¯¹ ${o.studentName} çš„å»ºè®®`)},Yt=o=>{if(!o.modifiedText.trim()){h.warning("è¯·è¾“å…¥ä¿®æ­£åŽçš„å»ºè®®å†…å®¹");return}o.status="modified",o.showModify=!1,h.success(`å·²ä¿®æ­£å¹¶æŽ¨é€ç»™ ${o.studentName}`)},Zt=o=>{const e=ae.value.find(u=>u.name===o.studentName);e&&ft(e)},Xt=o=>{switch(o.id){case"t1":we.value=!0,ot();break;case"t2":T.push("/course/list");break;case"t3":Ce.value=!0,E.value=null,_t();break;case"t4":T.push("/prompts/list");break;case"t5":T.push("/dashboard");break;case"t6":T.push("/client/chat");break;case"t7":xt();break}},Kt=(o,e,u)=>{if(u)return"#ff4d4f";const g=o/e;return g>=.7?"#52c41a":g>=.4?"#faad14":"#ff4d4f"},es=o=>"â˜…".repeat(o)+"â˜†".repeat(5-o),yt=o=>o>=80?"#52c41a":o>=50?"#faad14":"#ff4d4f";async function ts(){if(!v.studentId){h.warning("è¯·é€‰æ‹©å­¦å‘˜");return}if(Y.value===0){h.warning("è¯·é€‰æ‹©æŽ¨é€å†…å®¹");return}if(Y.value>3){h.warning("æŽ¨é€é¡¹ä¸èƒ½è¶…è¿‡3é¡¹");return}pe.value=!0;try{const o={student_id:v.studentId,note:v.note||void 0};if(v.pushType==="questions")o.question_preset=v.questionPreset;else if(v.pushType==="behavior"){if(v.selectedQuestionIds.length===0){h.warning("è¯·è‡³å°‘é€‰æ‹©ä¸€é“é¢˜ç›®"),pe.value=!1;return}o.question_ids=v.selectedQuestionIds}else if(v.pushType==="custom"){const g=v.customQuestions.filter(D=>D.trim());if(g.length===0){h.warning("è¯·è‡³å°‘è¾“å…¥ä¸€é“é¢˜ç›®"),pe.value=!1;return}o.custom_questions=g.map(D=>({text:D.trim(),scale_type:"likert5"}))}else o.scales=v.scales;const e=await fetch(`${S}/v1/assessment-assignments/assign`,{method:"POST",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify(o)}),u=await e.json();if(!e.ok)throw new Error(u.detail||"æŽ¨é€å¤±è´¥");h.success(u.message||"è¯„ä¼°å·²æŽ¨é€"),v.studentId=null,v.pushType="questions",v.questionPreset="hf20",v.questionIds=[],v.selectedQuestionIds=[],v.customQuestions=[""],v.scales=[],v.note="",ot()}catch(o){h.error(o.message||"æŽ¨é€å¤±è´¥")}finally{pe.value=!1}}async function ot(){Ye.value=!0;try{const o=await fetch(`${S}/v1/assessment-assignments/review-list`,{headers:$});if(o.ok){const e=await o.json();Ze.value=e.assignments||[]}}catch{}finally{Ye.value=!1}}function ss(o){E.value={...o,review_items:(o.review_items||[]).map(e=>({...e,_editing:!1,_editText:"",_editNote:""}))},we.value=!1,Ce.value=!0}async function _t(){Ke.value=!0;try{const o=await fetch(`${S}/v1/assessment-assignments/review-list`,{headers:$});if(o.ok){const e=await o.json();et.value=e.assignments||[]}}catch{}finally{Ke.value=!1}}function os(o){E.value={...o,review_items:(o.review_items||[]).map(e=>({...e,_editing:!1,_editText:"",_editNote:""}))}}async function ht(o,e){try{const u=await fetch(`${S}/v1/assessment-assignments/review-items/${o.id}`,{method:"PUT",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify({status:e})});if(!u.ok){const g=await u.json();throw new Error(g.detail||"æ“ä½œå¤±è´¥")}o.status=e,h.success(e==="approved"?"å·²é‡‡çº³":"å·²æ‹’ç»")}catch(u){h.error(u.message||"æ“ä½œå¤±è´¥")}}async function ns(o){if(!o._editText.trim()){h.warning("è¯·è¾“å…¥ä¿®æ”¹å†…å®¹");return}try{const e={...o.original_content,modified_text:o._editText},u=await fetch(`${S}/v1/assessment-assignments/review-items/${o.id}`,{method:"PUT",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify({status:"modified",coach_content:e,coach_note:o._editNote||void 0})});if(!u.ok){const g=await u.json();throw new Error(g.detail||"æ“ä½œå¤±è´¥")}o.status="modified",o.coach_content=e,o.coach_note=o._editNote,o._editing=!1,h.success("å·²ä¿®æ”¹")}catch(e){h.error(e.message||"æ“ä½œå¤±è´¥")}}async function ls(){if(E.value){tt.value=!0;try{const o=await fetch(`${S}/v1/assessment-assignments/${E.value.id}/push`,{method:"POST",headers:{...$,"Content-Type":"application/json"}}),e=await o.json();if(!o.ok)throw new Error(e.detail||"æŽ¨é€å¤±è´¥");h.success(e.message||"å·²æŽ¨é€"),E.value=null,_t(),ot()}catch(o){h.error(o.message||"æŽ¨é€å¤±è´¥")}finally{tt.value=!1}}}const as=o=>{o.adopted=!0,h.success("å·²é‡‡çº³å»ºè®®ï¼š"+o.title)},is=o=>{o.referenced=!0,h.info("å·²æ ‡è®°ä¸ºå‚è€ƒ")},rs=()=>{T.push("/coach/messages")},kt=()=>{T.push("/course/list")},ds=({key:o})=>{switch(o){case"profile":Le.value=!0;break;case"settings":Qe.value=!0;break;case"logout":nt();break}},nt=()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username"),localStorage.removeItem("admin_role"),localStorage.removeItem("admin_level"),localStorage.removeItem("admin_name"),T.push("/login")};async function us(){I.value=!0;try{const o=await fetch(`${S}/v1/coach/dashboard`,{headers:$});if(_e(o))return;if(!o.ok)throw new Error("Dashboard API failed");const e=await o.json(),u=e.coach||{};_.id=u.id||"",_.name=u.name||_.name,_.level=u.level||"L0",_.levelName=u.level_name||"è§ä¹ æ•™ç»ƒ",_.specialty=u.specialty||[];const g=e.today_stats||{};j.pendingFollowups=g.pending_followups||0,j.completedFollowups=g.completed_followups||0,j.alertStudents=g.alert_students||0,j.unreadMessages=g.unread_messages||0,H.value=g.unread_messages||0;const D=(e.students||[]).map(P=>({id:P.id,name:P.name,avatar:P.avatar||"",condition:P.condition||"è¡Œä¸ºå¥åº·ç®¡ç†",stage:P.stage||"unknown",stageLabel:P.stage_label||"æœªè¯„ä¼°",lastContact:P.last_contact||"æœªçŸ¥",priority:P.priority||"low",healthData:{fastingGlucose:P.health_data?.fasting_glucose??null,postprandialGlucose:P.health_data?.postprandial_glucose??null,weight:P.health_data?.weight??null,exerciseMinutes:P.health_data?.exercise_minutes??0},microAction7d:P.micro_action_7d||{completed:0,total:0},riskFlags:P.risk_flags||[],records:[],interventionPlan:null,assessScore:0,assessNote:""}));ae.value=D.slice(0,yr)}catch(o){console.error("[CoachHome] Dashboard API å¤±è´¥:",o)}finally{I.value=!1}cs()}async function cs(){try{const o=await fetch(`${S}/v1/push-recommendations`,{headers:$});if(!o.ok)throw new Error("Push recommendations API failed");const u=(await o.json()).recommendations||[];u.length>0&&(Ee.value=u.map((g,D)=>({id:`ai${String(D+1).padStart(3,"0")}`,type:g.priority==="high"?"alert":g.push_type==="questions"?"intervention":"followup",typeLabel:g.priority==="high"?"é£Žé™©æé†’":g.push_type==="questions"?"å¹²é¢„å»ºè®®":"è·Ÿè¿›æé†’",studentName:g.student_name,suggestion:g.reasoning,status:"pending",showModify:!1,modifiedText:"",_sourceId:g.student_id})))}catch(o){console.warn("[CoachHome] AIæŽ¨é€å»ºè®®åŠ è½½å¤±è´¥:",o)}}async function ps(){if(!($e.value.length>0)){Je.value=!0;try{const o=await fetch(`${S}/v1/high-freq-questions/all`,{headers:$});if(o.ok){const e=await o.json();$e.value=e.questions||[]}}catch{}finally{Je.value=!1}}}function vs(o){const e=v.selectedQuestionIds.indexOf(o);e>=0?v.selectedQuestionIds.splice(e,1):v.selectedQuestionIds.length<3?v.selectedQuestionIds.push(o):h.warning("æœ€å¤šé€‰æ‹©3é“é¢˜ç›®")}function gs(o){v.selectedQuestionIds=v.selectedQuestionIds.filter(e=>e!==o)}function fs(o){const e=$e.value.find(u=>u.id===o);return e?`[${o}] ${e.text.slice(0,15)}...`:o}async function ms(){try{const o=await fetch(`${S}/v1/push-recommendations`,{headers:$});if(o.ok){const e=await o.json();Xe.value=e.recommendations||[]}}catch{}}function ys(o){v.studentId=o.student_id,o.items?.length===1&&o.items[0].startsWith("hf")?(v.pushType="questions",v.questionPreset=o.items[0]):(v.pushType="questions",v.questionPreset="hf20"),h.info(`å·²é¢„å¡« ${o.student_name} çš„æŽ¨é€å»ºè®®`)}async function _s(){try{const o=await fetch(`${S}/v1/alerts/coach?unread_only=true&limit=5`,{headers:$});if(o.ok){const e=await o.json();ve.value=e.alerts||[]}}catch{}}async function hs(o){try{await fetch(`${S}/v1/alerts/${o.id}/resolve`,{method:"POST",headers:$}),ve.value=ve.value.filter(e=>e.id!==o.id),h.success("å·²å¤„ç†é¢„è­¦")}catch{}}function ks(o){ce.value=o,Me.value=!0,bt(o.id),bs()}async function bt(o){Re.value=!0;try{const e=await fetch(`${S}/v1/coach/challenges/students/${o}`,{headers:$});if(e.ok){const u=await e.json();se.value=u.items||u.enrollments||[]}else se.value=[]}catch{se.value=[]}finally{Re.value=!1}}async function bs(){if(!(Se.value.length>0)){Ue.value=!0;try{const o=await fetch(`${S}/v1/challenges?status=published`,{headers:$});if(o.ok){const e=await o.json();Se.value=e.items||e.challenges||[]}}catch{}finally{Ue.value=!1}}}async function xs(o){if(ce.value){Ne.value=o;try{const e=await fetch(`${S}/v1/coach/challenges/assign`,{method:"POST",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify({student_id:ce.value.id,challenge_id:o})}),u=await e.json();if(!e.ok)throw new Error(u.detail||"åˆ†é…å¤±è´¥");h.success(u.message||"å·²åˆ†é…æŒ‘æˆ˜"),bt(ce.value.id)}catch(e){h.error(e.message||"åˆ†é…å¤±è´¥")}finally{Ne.value=null}}}function xt(){qe.value=!0,ie(),ne()}async function ie(){try{const o=await fetch(`${S}/v1/coach/push-queue/stats`,{headers:$});if(o.ok){const e=await o.json();Object.assign(oe,e)}}catch{}}async function ne(){Be.value=!0,J.value=[];try{const o=new URLSearchParams;o.set("status",U.status||"pending"),o.set("page",String(Ge.value)),o.set("page_size","20"),U.source_type&&o.set("source_type",U.source_type),U.priority&&o.set("priority",U.priority);const e=await fetch(`${S}/v1/coach/push-queue?${o}`,{headers:$});if(e.ok){const u=await e.json();He.value=(u.items||[]).map(g=>({...g,_editing:!1,_editContent:g.content||"",_editTime:null,student_name:ws(g.student_id)})),Fe.value=u.total||0}}catch{}finally{Be.value=!1}}function ws(o){const e=ae.value.find(u=>u.id===o);return e?e.name:`#${o}`}function Cs(o){return{challenge:"blue",device_alert:"red",micro_action:"green",ai_recommendation:"purple",system:"default"}[o]||"default"}function Ss(o){return{challenge:"æŒ‘æˆ˜",device_alert:"é¢„è­¦",micro_action:"å¾®è¡ŒåŠ¨",ai_recommendation:"AI",system:"ç³»ç»Ÿ"}[o]||o}function $s(o){const e=J.value.indexOf(o);e>=0?J.value.splice(e,1):J.value.push(o)}async function Ts(o){try{const e=await fetch(`${S}/v1/coach/push-queue/${o.id}/approve`,{method:"POST",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify({})}),u=await e.json();if(!e.ok)throw new Error(u.detail||"æ“ä½œå¤±è´¥");h.success("å·²å®¡æ‰¹é€šè¿‡"),ie(),ne()}catch(e){h.error(e.message||"æ“ä½œå¤±è´¥")}}async function zs(o){try{const e={};o._editContent&&o._editContent!==o.content&&(e.content_override=o._editContent),o._editTime&&(e.scheduled_time=typeof o._editTime=="string"?o._editTime:o._editTime.toISOString());const u=await fetch(`${S}/v1/coach/push-queue/${o.id}/approve`,{method:"POST",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify(e)}),g=await u.json();if(!u.ok)throw new Error(g.detail||"æ“ä½œå¤±è´¥");h.success("å·²ä¿®æ”¹å¹¶å®¡æ‰¹é€šè¿‡"),ie(),ne()}catch(e){h.error(e.message||"æ“ä½œå¤±è´¥")}}async function As(o){try{const e=await fetch(`${S}/v1/coach/push-queue/${o.id}/reject`,{method:"POST",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify({})}),u=await e.json();if(!e.ok)throw new Error(u.detail||"æ“ä½œå¤±è´¥");h.success("å·²æ‹’ç»"),ie(),ne()}catch(e){h.error(e.message||"æ“ä½œå¤±è´¥")}}async function Is(){if(J.value.length!==0){Ve.value=!0;try{const o=await fetch(`${S}/v1/coach/push-queue/batch-approve`,{method:"POST",headers:{...$,"Content-Type":"application/json"},body:JSON.stringify({item_ids:J.value})}),e=await o.json();if(!o.ok)throw new Error(e.detail||"æ“ä½œå¤±è´¥");h.success(e.message||`å·²æ‰¹é‡å®¡æ‰¹ ${e.approved_count} æ¡`),J.value=[],ie(),ne()}catch(o){h.error(o.message||"æ“ä½œå¤±è´¥")}finally{Ve.value=!1}}}return Hs(()=>v.pushType,o=>{o==="behavior"&&ps()}),Lt(()=>{us(),ms(),_s(),ie()}),(o,e)=>{const u=C("a-tag"),g=C("a-badge"),D=C("a-avatar"),P=C("a-menu-item"),Ps=C("a-menu-divider"),js=C("a-menu"),Os=C("a-dropdown"),N=C("a-spin"),y=C("a-button"),fe=C("a-progress"),O=C("a-select-option"),me=C("a-select"),re=C("a-radio-button"),lt=C("a-radio-group"),wt=C("a-radio"),Ds=C("a-input-search"),Ct=C("a-checkbox"),at=C("a-input"),Ie=C("a-alert"),Es=C("a-checkbox-group"),le=C("a-drawer"),St=C("a-textarea"),Pe=C("a-switch"),W=C("a-divider"),Ls=C("a-date-picker"),Qs=C("a-pagination"),ye=C("a-tab-pane"),Ms=C("a-timeline-item"),Rs=C("a-timeline"),Us=C("a-empty"),it=C("a-collapse-panel"),Ns=C("a-collapse"),qs=C("a-tabs"),Bs=C("a-space");return l(),d("div",_o,[s("div",ho,[s("div",ko,[s("span",bo,a(Ht())+"ï¼Œ"+a(_.name),1),n(u,{color:gt(_.level)},{default:i(()=>[r(a(_.level)+" "+a(_.levelName),1)]),_:1},8,["color"])]),s("div",xo,[n(g,{count:H.value,offset:[-2,2]},{default:i(()=>[n(k(so),{class:"header-icon"})]),_:1},8,["count"]),n(Os,null,{overlay:i(()=>[n(js,{onClick:ds},{default:i(()=>[n(P,{key:"profile"},{default:i(()=>[...e[41]||(e[41]=[r("ä¸ªäººä¸­å¿ƒ",-1)])]),_:1}),n(P,{key:"settings"},{default:i(()=>[...e[42]||(e[42]=[r("è®¾ç½®",-1)])]),_:1}),n(Ps),n(P,{key:"logout"},{default:i(()=>[...e[43]||(e[43]=[r("é€€å‡ºç™»å½•",-1)])]),_:1})]),_:1})]),default:i(()=>[n(D,{src:_.avatar,size:36},{default:i(()=>[r(a(_.name?.charAt(0)),1)]),_:1},8,["src"])]),_:1})])]),I.value?(l(),d("div",wo,[n(N,{size:"large",tip:"åŠ è½½å·¥ä½œå°æ•°æ®..."})])):p("",!0),I.value?p("",!0):(l(),d("div",Co,[s("div",So,[n(k(Fs)),e[44]||(e[44]=r(" ä»Šæ—¥å·¥ä½œæ¦‚è§ˆ ",-1))]),s("div",$o,[s("div",{class:q(["overview-card",{clickable:j.pendingFollowups>0}]),onClick:e[0]||(e[0]=t=>j.pendingFollowups>0&&k(T).push("/coach-portal/students"))},[s("div",To,[n(k($t))]),s("div",zo,[s("div",Ao,a(j.pendingFollowups),1),e[45]||(e[45]=s("div",{class:"card-label"},"å¾…è·Ÿè¿›",-1))])],2),s("div",Io,[s("div",Po,[n(k(Gs))]),s("div",jo,[s("div",Oo,a(j.completedFollowups),1),e[46]||(e[46]=s("div",{class:"card-label"},"å·²å®Œæˆ",-1))])]),s("div",{class:q(["overview-card",{clickable:j.alertStudents>0}]),onClick:e[1]||(e[1]=t=>j.alertStudents>0&&k(T).push("/coach-portal/students?priority=high"))},[s("div",Do,[n(k(It))]),s("div",Eo,[s("div",Lo,a(j.alertStudents),1),e[47]||(e[47]=s("div",{class:"card-label"},"éœ€å…³æ³¨",-1))])],2),s("div",{class:q(["overview-card",{clickable:j.unreadMessages>0}]),onClick:e[2]||(e[2]=t=>j.unreadMessages>0&&k(T).push("/coach/messages"))},[s("div",Qo,[n(k(Pt))]),s("div",Mo,[s("div",Ro,a(j.unreadMessages),1),e[48]||(e[48]=s("div",{class:"card-label"},"æœªè¯»æ¶ˆæ¯",-1))])],2),s("div",{class:"overview-card clickable",onClick:xt},[s("div",Uo,[n(g,{count:oe.pending,offset:[6,-4]},{default:i(()=>[n(k(oo))]),_:1},8,["count"])]),s("div",No,[s("div",qo,a(oe.pending),1),e[49]||(e[49]=s("div",{class:"card-label"},"å¾…å®¡æ‰¹æŽ¨é€",-1))])])]),ve.value.length?(l(),d("div",Bo,[(l(!0),d(b,null,w(ve.value.slice(0,3),t=>(l(),d("div",{key:t.id,style:X([{display:"flex","align-items":"center",gap:"8px",padding:"10px 12px","border-radius":"8px","margin-bottom":"6px"},{background:t.severity==="danger"?"#fff2f0":"#fffbe6",border:"1px solid "+(t.severity==="danger"?"#ffccc7":"#ffe58f")}])},[n(k(It),{style:X({color:t.severity==="danger"?"#ff4d4f":"#faad14",fontSize:"18px"})},null,8,["style"]),s("div",Ho,[s("div",Fo,a(t.message),1),s("div",Go,a(t.student_name||"")+" Â· "+a(t.data_type)+" Â· å€¼: "+a(t.data_value),1)]),n(y,{size:"small",type:"link",onClick:c=>hs(t)},{default:i(()=>[...e[50]||(e[50]=[r("å¤„ç†",-1)])]),_:1},8,["onClick"])],4))),128))])):p("",!0)])),I.value?p("",!0):(l(),x(k(mo),{key:2,compact:k(K)},null,8,["compact"])),I.value?p("",!0):(l(),d("div",Vo,[s("div",Jo,[s("div",Wo,[n(k(jt)),e[51]||(e[51]=r(" å¾…è·Ÿè¿›å­¦å‘˜ ",-1))]),s("a",{class:"view-all",onClick:e[3]||(e[3]=t=>k(T).push("/coach-portal/students"))},[e[52]||(e[52]=r("æŸ¥çœ‹å…¨éƒ¨ ",-1)),n(k(ut))])]),s("div",Yo,[(l(!0),d(b,null,w(ae.value.slice(0,2),t=>(l(),d("div",{key:t.id,class:"student-card",onClick:c=>ft(t)},[s("div",Xo,[n(D,{size:48,src:t.avatar},{default:i(()=>[r(a(t.name?.charAt(0)),1)]),_:2},1032,["src"]),s("span",{class:q(["stage-badge",t.stage])},a(Te(t.stage)),3)]),s("div",Ko,[s("div",en,a(t.name),1),s("div",tn,a(t.condition),1),s("div",sn,[s("span",on,[n(k($t)),r(" "+a(t.lastContact),1)]),t.priority==="high"?(l(),x(u,{key:0,color:"red",size:"small"},{default:i(()=>[...e[53]||(e[53]=[r("ç´§æ€¥",-1)])]),_:1})):t.priority==="medium"?(l(),x(u,{key:1,color:"orange",size:"small"},{default:i(()=>[...e[54]||(e[54]=[r("é‡è¦",-1)])]),_:1})):p("",!0)])]),s("div",nn,[n(y,{type:"primary",size:"small",onClick:Js(c=>mt(t),["stop"])},{default:i(()=>[...e[55]||(e[55]=[r(" å¼€å§‹è·Ÿè¿› ",-1)])]),_:1},8,["onClick"])])],8,Zo))),128))])])),I.value?p("",!0):(l(),d("div",ln,[s("div",an,[s("div",rn,[n(k(Ot)),e[56]||(e[56]=r(" AI å¹²é¢„å»ºè®®å®¡æ ¸ ",-1))]),s("a",{class:"view-all",onClick:e[4]||(e[4]=t=>k(T).push("/coach-portal/ai-review"))},[r(a(Ee.value.filter(t=>t.status==="pending").length)+" æ¡å¾…å®¡æ ¸ ",1),n(k(ut))])]),s("div",dn,[(l(!0),d(b,null,w(Ee.value.slice(0,2),t=>(l(),d("div",{key:t.id,class:q(["recommendation-card",{"rec-approved":t.status==="approved","rec-rejected":t.status==="rejected","rec-modified":t.status==="modified"}])},[s("div",un,[s("span",{class:q(["rec-type",t.type])},a(t.typeLabel),3),s("span",cn,a(t.studentName),1),t.status!=="pending"?(l(),d("span",{key:0,class:q(["rec-status","status-"+t.status])},a({approved:"å·²æ‰¹å‡†",rejected:"å·²é©³å›ž",modified:"å·²ä¿®æ­£"}[t.status]),3)):p("",!0)]),s("div",pn,[e[57]||(e[57]=s("div",{class:"rec-ai-label"},"AI å»ºè®®ï¼š",-1)),r(" "+a(t.suggestion),1)]),t.showModify?(l(),d("div",vn,[Tt(s("textarea",{"onUpdate:modelValue":c=>t.modifiedText=c,class:"modify-textarea",placeholder:"è¾“å…¥ä¿®æ­£åŽçš„å»ºè®®å†…å®¹...",rows:"3"},null,8,gn),[[zt,t.modifiedText]]),s("div",fn,[n(y,{size:"small",type:"primary",onClick:c=>Yt(t)},{default:i(()=>[...e[58]||(e[58]=[r("ç¡®è®¤ä¿®æ­£å¹¶æŽ¨é€",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",onClick:c=>t.showModify=!1},{default:i(()=>[...e[59]||(e[59]=[r("å–æ¶ˆ",-1)])]),_:1},8,["onClick"])])])):p("",!0),t.status==="pending"?(l(),d("div",mn,[n(y,{size:"small",type:"primary",style:{background:"#52c41a","border-color":"#52c41a"},onClick:c=>Jt(t)},{default:i(()=>[...e[60]||(e[60]=[r(" æ‰¹å‡†æŽ¨é€ ",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",onClick:c=>t.showModify=!0},{default:i(()=>[...e[61]||(e[61]=[r(" ä¿®æ­£åŽæŽ¨é€ ",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",danger:"",onClick:c=>Wt(t)},{default:i(()=>[...e[62]||(e[62]=[r(" é©³å›ž ",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",type:"link",onClick:c=>Zt(t)},{default:i(()=>[...e[63]||(e[63]=[r(" æŸ¥çœ‹å­¦å‘˜ ",-1)])]),_:1},8,["onClick"])])):(l(),d("div",yn,[t.status==="approved"?(l(),d("span",_n,"å·²æ‰¹å‡†æŽ¨é€ç»™ "+a(t.studentName),1)):p("",!0),t.status==="modified"?(l(),d("span",hn,"å·²ä¿®æ­£æŽ¨é€ï¼š"+a(t.modifiedText),1)):p("",!0),t.status==="rejected"?(l(),d("span",kn,"å·²é©³å›žï¼Œä¸æŽ¨é€")):p("",!0)]))],2))),128))])])),I.value?p("",!0):(l(),d("div",bn,[s("div",xn,[s("div",wn,[n(k(Ks)),e[64]||(e[64]=r(" å¹²é¢„å·¥å…·ç®± ",-1))])]),s("div",Cn,[(l(!0),d(b,null,w(Nt.value,t=>(l(),d("div",{key:t.id,class:"tool-card",onClick:c=>Xt(t)},[s("div",$n,a(t.icon),1),s("div",Tn,a(t.name),1)],8,Sn))),128))])])),I.value?p("",!0):(l(),d("div",zn,[s("div",An,[s("div",In,[n(k(Dt)),e[65]||(e[65]=r(" æˆ‘çš„å­¦ä¹  ",-1))]),s("a",{class:"view-all",onClick:kt},[e[66]||(e[66]=r("æŸ¥çœ‹è¯¾ç¨‹ ",-1)),n(k(ut))])]),s("div",Pn,[s("div",jn,[s("div",On,[s("span",null,a(_.level)+" è®¤è¯è¿›åº¦",1),s("span",Dn,a(V.certProgress)+"%",1)]),n(fe,{percent:V.certProgress,"show-info":!1,"stroke-color":"#667eea"},null,8,["percent"])]),s("div",En,[s("div",Ln,[s("div",Qn,a(V.coursesCompleted)+"/"+a(V.coursesTotal),1),e[67]||(e[67]=s("div",{class:"stat-label"},"è¯¾ç¨‹å®Œæˆ",-1))]),s("div",Mn,[s("div",Rn,a(V.examsPassed)+"/"+a(V.examsTotal),1),e[68]||(e[68]=s("div",{class:"stat-label"},"è€ƒè¯•é€šè¿‡",-1))]),s("div",Un,[s("div",Nn,a(V.caseCount),1),e[69]||(e[69]=s("div",{class:"stat-label"},"æ¡ˆä¾‹ç§¯ç´¯",-1))])])])])),s("div",qn,[s("div",Bn,[n(k(eo)),e[70]||(e[70]=s("span",null,"å·¥ä½œå°",-1))]),s("div",{class:"nav-item",onClick:e[5]||(e[5]=t=>k(T).push("/coach-portal/students"))},[n(k(jt)),e[71]||(e[71]=s("span",null,"å­¦å‘˜",-1))]),s("div",{class:"nav-item",onClick:rs},[n(k(Pt)),e[72]||(e[72]=s("span",null,"æ¶ˆæ¯",-1))]),s("div",{class:"nav-item",onClick:kt},[n(k(Dt)),e[73]||(e[73]=s("span",null,"å­¦ä¹ ",-1))]),s("div",{class:"nav-item",onClick:nt},[n(k(to)),e[74]||(e[74]=s("span",null,"é€€å‡º",-1))])]),n(le,{open:we.value,"onUpdate:open":e[13]||(e[13]=t=>we.value=t),title:"æŽ¨é€è¯„ä¼°",placement:"right",width:k(M)(720),closable:!0,destroyOnClose:""},{default:i(()=>[s("div",Hn,[s("div",Fn,[e[93]||(e[93]=s("h4",{style:{"margin-bottom":"12px"}},"æŽ¨é€è¯„ä¼°ç»™å­¦å‘˜",-1)),Xe.value.length?(l(),d("div",Gn,[e[76]||(e[76]=s("div",{style:{"font-size":"13px","font-weight":"600",color:"#1890ff","margin-bottom":"8px"}},"AI æŽ¨é€å»ºè®®",-1)),(l(!0),d(b,null,w(Xe.value,t=>(l(),d("div",{key:t.student_id,style:X([{padding:"8px",background:"#fff","border-radius":"6px","margin-bottom":"6px","border-left":"3px solid"},{borderLeftColor:t.priority==="high"?"#ff4d4f":t.priority==="medium"?"#faad14":"#52c41a"}])},[s("div",Vn,[s("span",Jn,a(t.student_name),1),n(u,{color:t.priority==="high"?"red":t.priority==="medium"?"orange":"green",size:"small"},{default:i(()=>[r(a(t.priority==="high"?"é«˜ä¼˜":t.priority==="medium"?"ä¸­ä¼˜":"ä½Žä¼˜"),1)]),_:2},1032,["color"])]),s("div",Wn,a(t.reasoning),1),n(y,{type:"link",size:"small",style:{padding:"0","margin-top":"4px"},onClick:c=>ys(t)},{default:i(()=>[...e[75]||(e[75]=[r("é‡‡ç”¨å»ºè®®",-1)])]),_:1},8,["onClick"])],4))),128))])):p("",!0),s("div",Yn,[e[77]||(e[77]=s("div",{style:{"margin-bottom":"4px","font-weight":"500"}},"é€‰æ‹©å­¦å‘˜",-1)),n(me,{value:v.studentId,"onUpdate:value":e[6]||(e[6]=t=>v.studentId=t),placeholder:"è¯·é€‰æ‹©å­¦å‘˜",style:{width:"100%"},"show-search":"","option-filter-prop":"label"},{default:i(()=>[(l(!0),d(b,null,w(ae.value,t=>(l(),x(O,{key:t.id,value:t.id,label:t.name},{default:i(()=>[r(a(t.name)+" ("+a(Te(t.stage))+")",1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value"])]),s("div",Zn,[e[82]||(e[82]=s("div",{style:{"margin-bottom":"4px","font-weight":"500"}},"æŽ¨é€ç±»åž‹",-1)),n(lt,{value:v.pushType,"onUpdate:value":e[7]||(e[7]=t=>v.pushType=t)},{default:i(()=>[n(re,{value:"questions"},{default:i(()=>[...e[78]||(e[78]=[r("é«˜é¢‘é¢˜ç›®",-1)])]),_:1}),n(re,{value:"behavior"},{default:i(()=>[...e[79]||(e[79]=[r("è¡Œä¸ºè¯„ä¼°",-1)])]),_:1}),n(re,{value:"custom"},{default:i(()=>[...e[80]||(e[80]=[r("è‡ªç”±å‘½é¢˜",-1)])]),_:1}),n(re,{value:"scales"},{default:i(()=>[...e[81]||(e[81]=[r("æ•´å¥—é‡è¡¨",-1)])]),_:1})]),_:1},8,["value"]),Y.value>0?(l(),x(u,{key:0,color:Y.value>3?"red":"blue",style:{"margin-left":"8px"}},{default:i(()=>[r(a(Y.value)+"/3 é¡¹ ",1)]),_:1},8,["color"])):p("",!0)]),v.pushType==="questions"?(l(),d("div",Xn,[e[85]||(e[85]=s("div",{style:{"margin-bottom":"4px","font-weight":"500"}},"é¢˜ç›®é¢„è®¾",-1)),n(lt,{value:v.questionPreset,"onUpdate:value":e[8]||(e[8]=t=>v.questionPreset=t)},{default:i(()=>[n(wt,{value:"hf20"},{default:i(()=>[...e[83]||(e[83]=[r("HF-20ï¼ˆ20é¢˜å¿«é€Ÿç­›æŸ¥ï¼Œçº¦5åˆ†é’Ÿï¼‰",-1)])]),_:1}),n(wt,{value:"hf50"},{default:i(()=>[...e[84]||(e[84]=[r("HF-50ï¼ˆ50é¢˜æ·±åº¦è¯„ä¼°ï¼Œçº¦12åˆ†é’Ÿï¼‰",-1)])]),_:1})]),_:1},8,["value"])])):p("",!0),v.pushType==="behavior"?(l(),d("div",Kn,[e[86]||(e[86]=s("div",{style:{"margin-bottom":"4px","font-weight":"500"}},"ä»Žé¢˜åº“é€‰æ‹©é¢˜ç›®ï¼ˆæœ€å¤š3é“ï¼Œçº¦1-3åˆ†é’Ÿï¼‰",-1)),e[87]||(e[87]=s("div",{style:{"font-size":"12px",color:"#999","margin-bottom":"8px"}},"ä»Žå†…ç½®5å¥—é‡è¡¨171é“é¢˜ä¸­è‡ªç”±é€‰å–ï¼Œé™ä½Žç”¨æˆ·è®¤çŸ¥è´Ÿæ‹…",-1)),n(Ds,{value:We.value,"onUpdate:value":e[9]||(e[9]=t=>We.value=t),placeholder:"æœç´¢é¢˜ç›®å…³é”®è¯...",style:{"margin-bottom":"8px"},"allow-clear":""},null,8,["value"]),v.selectedQuestionIds.length>0?(l(),d("div",el,[(l(!0),d(b,null,w(v.selectedQuestionIds,t=>(l(),x(u,{key:t,closable:"",onClose:c=>gs(t),color:"blue"},{default:i(()=>[r(a(fs(t)),1)]),_:2},1032,["onClose"]))),128))])):p("",!0),s("div",tl,[Je.value?(l(),d("div",sl,[n(N,{size:"small"})])):(l(!0),d(b,{key:1},w(Bt.value,t=>(l(),d("div",{key:t.key,style:{"margin-bottom":"4px"}},[s("div",ol,a(t.label)+" ("+a(t.questions.length)+") ",1),(l(!0),d(b,null,w(t.questions,c=>(l(),d("div",{key:c.id,style:X([{padding:"8px 12px",cursor:"pointer","border-bottom":"1px solid #fafafa",display:"flex","align-items":"center",gap:"8px","font-size":"13px"},{background:v.selectedQuestionIds.includes(c.id)?"#e6f7ff":"transparent"}]),onClick:Q=>vs(c.id)},[n(Ct,{checked:v.selectedQuestionIds.includes(c.id),disabled:!v.selectedQuestionIds.includes(c.id)&&v.selectedQuestionIds.length>=3},null,8,["checked","disabled"]),s("span",ll,"["+a(c.id)+"]",1),s("span",al,a(c.text),1),n(u,{size:"small",color:{ttm7:"blue",bpt6:"purple",spi:"green",capacity:"orange",big_five:"cyan"}[c.questionnaire]||"default"},{default:i(()=>[r(a(c.dimension),1)]),_:2},1032,["color"])],12,nl))),128))]))),128))]),s("div",il," å·²é€‰ "+a(v.selectedQuestionIds.length)+"/3 ",1)])):p("",!0),v.pushType==="custom"?(l(),d("div",rl,[e[89]||(e[89]=s("div",{style:{"margin-bottom":"4px","font-weight":"500"}},"è‡ªç”±å‘½é¢˜ï¼ˆæœ€å¤š3é“ï¼Œçº¦3åˆ†é’Ÿï¼‰",-1)),e[90]||(e[90]=s("div",{style:{"font-size":"12px",color:"#999","margin-bottom":"8px"}},"ç›´æŽ¥ç¼–å†™é¢˜ç›®ï¼Œå­¦å‘˜å°†ç”¨1-5åˆ†é‡è¡¨ä½œç­”",-1)),(l(!0),d(b,null,w(v.customQuestions,(t,c)=>(l(),d("div",{key:c,style:{display:"flex","align-items":"center",gap:"8px","margin-bottom":"8px"}},[s("span",dl,a(c+1)+".",1),n(at,{value:v.customQuestions[c],"onUpdate:value":Q=>v.customQuestions[c]=Q,placeholder:`è¯·è¾“å…¥ç¬¬${c+1}é“é¢˜ç›®...`,"allow-clear":""},null,8,["value","onUpdate:value","placeholder"]),v.customQuestions.length>1?(l(),x(y,{key:0,type:"text",danger:"",size:"small",onClick:Q=>v.customQuestions.splice(c,1)},{default:i(()=>[n(k(Ws))]),_:1},8,["onClick"])):p("",!0)]))),128)),v.customQuestions.length<3?(l(),x(y,{key:0,type:"dashed",block:"",size:"small",onClick:e[10]||(e[10]=t=>v.customQuestions.push(""))},{default:i(()=>[...e[88]||(e[88]=[r(" + æ·»åŠ é¢˜ç›® ",-1)])]),_:1})):p("",!0)])):p("",!0),v.pushType==="scales"?(l(),d("div",ul,[e[91]||(e[91]=s("div",{style:{"margin-bottom":"4px","font-weight":"500"}},"é€‰æ‹©é‡è¡¨",-1)),v.scales.length>3?(l(),x(Ie,{key:0,message:"å»ºè®®æ¯æ¬¡æŽ¨é€ä¸è¶…è¿‡3é¡¹",type:"warning","show-icon":"",style:{"margin-bottom":"8px"}})):p("",!0),n(Es,{value:v.scales,"onUpdate:value":e[11]||(e[11]=t=>v.scales=t),options:qt},null,8,["value"])])):p("",!0),s("div",cl,[e[92]||(e[92]=s("div",{style:{"margin-bottom":"4px","font-weight":"500"}},"æ•™ç»ƒå¤‡æ³¨ï¼ˆå¯é€‰ï¼‰",-1)),n(at,{value:v.note,"onUpdate:value":e[12]||(e[12]=t=>v.note=t),placeholder:"ç»™å­¦å‘˜çš„å¤‡æ³¨è¯´æ˜Ž..."},null,8,["value"])]),n(y,{type:"primary",block:"",loading:pe.value,disabled:Y.value>3||Y.value===0,onClick:ts},{default:i(()=>[r(" æŽ¨é€è¯„ä¼° "+a(Y.value>0?`(${Y.value}é¡¹)`:""),1)]),_:1},8,["loading","disabled"])]),s("div",pl,[e[95]||(e[95]=s("h4",{style:{"margin-bottom":"12px"}},"å·²æŽ¨é€çš„è¯„ä¼°ä»»åŠ¡",-1)),n(N,{spinning:Ye.value},{default:i(()=>[Ze.value.length===0?(l(),d("div",vl,"æš‚æ— è¯„ä¼°ä»»åŠ¡")):p("",!0),(l(!0),d(b,null,w(Ze.value,t=>(l(),d("div",{key:t.id,class:"assignment-card",style:{padding:"12px",border:"1px solid #f0f0f0","border-radius":"8px","margin-bottom":"8px"}},[s("div",gl,[s("span",fl,a(t.student_name),1),n(u,{color:{pending:"orange",completed:"blue",reviewed:"cyan",pushed:"green"}[t.status]||"default",size:"small"},{default:i(()=>[r(a({pending:"å¾…å®Œæˆ",completed:"å¾…å®¡æ ¸",reviewed:"å·²å®¡æ ¸",pushed:"å·²æŽ¨é€"}[t.status]||t.status),1)]),_:2},1032,["color"])]),s("div",ml,[r(a(typeof t.scales=="object"&&!Array.isArray(t.scales)?t.scales.custom_questions?"è‡ªç”±å‘½é¢˜: "+t.scales.custom_questions.length+"é“é¢˜":t.scales.question_ids?.length?"è¡Œä¸ºè¯„ä¼°: "+t.scales.question_ids.length+"é“é¢˜":t.scales.question_preset?"é«˜é¢‘é¢˜: "+t.scales.question_preset:"é‡è¡¨: "+(t.scales.scales||[]).join(", "):"é‡è¡¨: "+(t.scales||[]).join(", "))+" ",1),s("span",yl,a(t.completed_at?"å®ŒæˆäºŽ "+t.completed_at.replace("T"," ").slice(0,16):"åˆ›å»ºäºŽ "+(t.created_at||"").replace("T"," ").slice(0,16)),1)]),t.status==="completed"?(l(),x(y,{key:0,type:"link",size:"small",style:{padding:"0","margin-top":"4px"},onClick:c=>ss(t)},{default:i(()=>[...e[94]||(e[94]=[r("åŽ»å®¡æ ¸",-1)])]),_:1},8,["onClick"])):p("",!0)]))),128))]),_:1},8,["spinning"])])])]),_:1},8,["open","width"]),n(le,{open:Ce.value,"onUpdate:open":e[15]||(e[15]=t=>Ce.value=t),title:"å®¡æ ¸ä¸ŽæŽ¨é€"+(E.value?" - "+E.value.student_name:""),placement:"right",width:k(M)(800),closable:!0,destroyOnClose:""},{default:i(()=>[s("div",_l,[E.value?(l(),d(b,{key:1},[n(y,{size:"small",onClick:e[14]||(e[14]=t=>E.value=null),style:{"margin-bottom":"12px"}},{default:i(()=>[...e[96]||(e[96]=[r(" è¿”å›žåˆ—è¡¨ ",-1)])]),_:1}),(l(!0),d(b,null,w(E.value.review_items,t=>(l(),d("div",{key:t.id,style:X([{padding:"12px",border:"1px solid #f0f0f0","border-radius":"8px","margin-bottom":"12px"},{borderLeftColor:{goal:"#1890ff",prescription:"#52c41a",suggestion:"#faad14"}[t.category]||"#d9d9d9",borderLeftWidth:"3px"}])},[s("div",Cl,[s("div",null,[n(u,{color:{goal:"blue",prescription:"green",suggestion:"orange"}[t.category],size:"small"},{default:i(()=>[r(a({goal:"ç®¡ç†ç›®æ ‡",prescription:"è¡Œä¸ºå¤„æ–¹",suggestion:"æŒ‡å¯¼å»ºè®®"}[t.category]||t.category),1)]),_:2},1032,["color"]),s("span",Sl,a(t.original_content?.domain_name||t.domain),1)]),t.status!=="pending"?(l(),x(u,{key:0,color:{approved:"green",modified:"blue",rejected:"red"}[t.status],size:"small"},{default:i(()=>[r(a({approved:"å·²é‡‡çº³",modified:"å·²ä¿®æ”¹",rejected:"å·²æ‹’ç»"}[t.status]),1)]),_:2},1032,["color"])):p("",!0)]),s("div",$l,[t.category==="goal"?(l(),d(b,{key:0},[s("div",null,[e[97]||(e[97]=s("strong",null,"ç›®æ ‡: ",-1)),r(a(t.original_content?.core_goal),1)]),t.original_content?.strategy?(l(),d("div",Tl,[e[98]||(e[98]=s("strong",null,"ç­–ç•¥: ",-1)),r(a(t.original_content.strategy),1)])):p("",!0)],64)):t.category==="prescription"?(l(),d(b,{key:1},[t.original_content?.recommended_behaviors?.length?(l(),d("div",zl,[e[99]||(e[99]=s("strong",null,"æŽ¨èè¡Œä¸º: ",-1)),(l(!0),d(b,null,w(t.original_content.recommended_behaviors,(c,Q)=>(l(),d("span",{key:Q},a(typeof c=="string"?c:c.name||c.title||JSON.stringify(c))+a(Q<t.original_content.recommended_behaviors.length-1?"ã€":""),1))),128))])):p("",!0),t.original_content?.contraindicated_behaviors?.length?(l(),d("div",Al,[e[100]||(e[100]=s("strong",null,"ç¦å¿Œè¡Œä¸º: ",-1)),(l(!0),d(b,null,w(t.original_content.contraindicated_behaviors,(c,Q)=>(l(),d("span",{key:Q},a(typeof c=="string"?c:c.name||c.title||JSON.stringify(c))+a(Q<t.original_content.contraindicated_behaviors.length-1?"ã€":""),1))),128))])):p("",!0)],64)):t.category==="suggestion"?(l(!0),d(b,{key:2},w(t.original_content?.advice||[],(c,Q)=>(l(),d("div",{key:Q,style:{"margin-bottom":"4px"}},a(Q+1)+". "+a(typeof c=="string"?c:c.title||c.content||JSON.stringify(c)),1))),128)):p("",!0)]),t._editing?(l(),d("div",Il,[n(St,{value:t._editText,"onUpdate:value":c=>t._editText=c,rows:3,placeholder:"è¾“å…¥ä¿®æ”¹åŽçš„å†…å®¹..."},null,8,["value","onUpdate:value"]),n(at,{value:t._editNote,"onUpdate:value":c=>t._editNote=c,placeholder:"æ•™ç»ƒæ‰¹æ³¨ï¼ˆå¯é€‰ï¼‰",style:{"margin-top":"4px"}},null,8,["value","onUpdate:value"]),s("div",Pl,[n(y,{type:"primary",size:"small",onClick:c=>ns(t)},{default:i(()=>[...e[101]||(e[101]=[r("ç¡®è®¤ä¿®æ”¹",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",onClick:c=>t._editing=!1},{default:i(()=>[...e[102]||(e[102]=[r("å–æ¶ˆ",-1)])]),_:1},8,["onClick"])])])):p("",!0),t.status==="pending"&&!t._editing?(l(),d("div",jl,[n(y,{size:"small",style:{background:"#52c41a","border-color":"#52c41a",color:"#fff"},onClick:c=>ht(t,"approved")},{default:i(()=>[...e[103]||(e[103]=[r(" é‡‡çº³ ",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",onClick:c=>{t._editing=!0,t._editText="",t._editNote=""}},{default:i(()=>[...e[104]||(e[104]=[r(" ä¿®æ”¹ ",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",danger:"",onClick:c=>ht(t,"rejected")},{default:i(()=>[...e[105]||(e[105]=[r(" æ‹’ç» ",-1)])]),_:1},8,["onClick"])])):p("",!0)],4))),128)),s("div",Ol,[n(y,{type:"primary",block:"",loading:tt.value,disabled:E.value.review_items.some(t=>t.status==="pending"),onClick:ls},{default:i(()=>[...e[106]||(e[106]=[r(" ç¡®è®¤æŽ¨é€ç»™å­¦å‘˜ ",-1)])]),_:1},8,["loading","disabled"]),E.value.review_items.some(t=>t.status==="pending")?(l(),d("div",Dl," è¿˜æœ‰ "+a(E.value.review_items.filter(t=>t.status==="pending").length)+" æ¡æœªå®¡æ ¸ ",1)):p("",!0)])],64)):(l(),x(N,{key:0,spinning:Ke.value},{default:i(()=>[et.value.length===0?(l(),d("div",hl,"æš‚æ— å¾…å®¡æ ¸çš„è¯„ä¼°")):p("",!0),(l(!0),d(b,null,w(et.value,t=>(l(),d("div",{key:t.id,style:{padding:"12px",border:"1px solid #f0f0f0","border-radius":"8px","margin-bottom":"12px",cursor:"pointer"},onClick:c=>os(t)},[s("div",bl,[s("span",xl,a(t.student_name),1),n(u,{color:t.status==="completed"?"blue":"cyan",size:"small"},{default:i(()=>[r(a(t.status==="completed"?"å¾…å®¡æ ¸":"å·²å®¡æ ¸"),1)]),_:2},1032,["color"])]),s("div",wl," å®ŒæˆäºŽ "+a((t.completed_at||"").replace("T"," ").slice(0,16))+" | "+a((t.review_items||[]).length)+" æ¡å†…å®¹ ",1)],8,kl))),128))]),_:1},8,["spinning"]))])]),_:1},8,["open","title","width"]),n(le,{open:Le.value,"onUpdate:open":e[16]||(e[16]=t=>Le.value=t),title:"ä¸ªäººä¸­å¿ƒ",placement:"right",width:k(M)(480),closable:!0,destroyOnClose:""},{default:i(()=>[s("div",El,[s("div",Ll,[n(D,{size:72},{default:i(()=>[r(a(_.name?.charAt(0)),1)]),_:1}),s("div",Ql,a(_.name),1),n(u,{color:gt(_.level)},{default:i(()=>[r(a(_.level)+" "+a(_.levelName),1)]),_:1},8,["color"])]),s("div",Ml,[s("div",Rl,[s("div",Ul,a(ae.value.length),1),e[107]||(e[107]=s("div",{class:"pstat-label"},"ç®¡ç†å­¦å‘˜",-1))]),s("div",Nl,[s("div",ql,a(V.coursesCompleted),1),e[108]||(e[108]=s("div",{class:"pstat-label"},"å·²å­¦è¯¾ç¨‹",-1))]),s("div",Bl,[s("div",Hl,a(V.caseCount),1),e[109]||(e[109]=s("div",{class:"pstat-label"},"æ¡ˆä¾‹ç§¯ç´¯",-1))])]),s("div",Fl,[e[110]||(e[110]=s("h4",null,"ä¸“é•¿é¢†åŸŸ",-1)),s("div",Gl,[(l(!0),d(b,null,w(_.specialty,t=>(l(),x(u,{key:t,color:"blue"},{default:i(()=>[r(a(t),1)]),_:2},1024))),128))])]),s("div",Vl,[e[111]||(e[111]=s("h4",null,"è®¤è¯è¿›åº¦",-1)),n(fe,{percent:V.certProgress,"stroke-color":"#667eea"},null,8,["percent"])])])]),_:1},8,["open","width"]),n(le,{open:Qe.value,"onUpdate:open":e[21]||(e[21]=t=>Qe.value=t),title:"è®¾ç½®",placement:"right",width:k(M)(480),closable:!0,destroyOnClose:""},{default:i(()=>[s("div",Jl,[s("div",Wl,[e[112]||(e[112]=s("span",null,"æ¶ˆæ¯é€šçŸ¥",-1)),n(Pe,{checked:te.notifications,"onUpdate:checked":e[17]||(e[17]=t=>te.notifications=t)},null,8,["checked"])]),s("div",Yl,[e[113]||(e[113]=s("span",null,"å­¦å‘˜é¢„è­¦æé†’",-1)),n(Pe,{checked:te.alertReminder,"onUpdate:checked":e[18]||(e[18]=t=>te.alertReminder=t)},null,8,["checked"])]),s("div",Zl,[e[114]||(e[114]=s("span",null,"AI å»ºè®®è‡ªåŠ¨æŽ¨é€",-1)),n(Pe,{checked:te.autoAIPush,"onUpdate:checked":e[19]||(e[19]=t=>te.autoAIPush=t)},null,8,["checked"])]),s("div",Xl,[e[115]||(e[115]=s("span",null,"æ·±è‰²æ¨¡å¼",-1)),n(Pe,{checked:te.darkMode,"onUpdate:checked":e[20]||(e[20]=t=>te.darkMode=t)},null,8,["checked"])]),n(W),n(y,{danger:"",block:"",onClick:nt},{default:i(()=>[...e[116]||(e[116]=[r("é€€å‡ºç™»å½•",-1)])]),_:1})])]),_:1},8,["open","width"]),n(le,{open:Me.value,"onUpdate:open":e[22]||(e[22]=t=>Me.value=t),title:"åˆ†é…æŒ‘æˆ˜ - "+(ce.value?.name||""),placement:"right",width:k(M)(640),closable:!0,destroyOnClose:""},{default:i(()=>[s("div",Kl,[s("div",ea,[e[117]||(e[117]=s("h4",{style:{"margin-bottom":"8px"}},"å½“å‰å‚ä¸Žçš„æŒ‘æˆ˜",-1)),n(N,{spinning:Re.value},{default:i(()=>[se.value.length===0?(l(),d("div",ta,"æš‚æ— å‚ä¸Žä¸­çš„æŒ‘æˆ˜")):p("",!0),(l(!0),d(b,null,w(se.value,t=>(l(),d("div",{key:t.id,style:{padding:"10px 12px",border:"1px solid #f0f0f0","border-radius":"8px","margin-bottom":"8px"}},[s("div",sa,[s("span",oa,a(t.challenge_title),1),n(u,{color:{enrolled:"blue",active:"green",completed:"default",dropped:"red"}[t.status]||"default",size:"small"},{default:i(()=>[r(a({enrolled:"å¾…å¼€å§‹",active:"è¿›è¡Œä¸­",completed:"å·²å®Œæˆ",dropped:"å·²é€€å‡º"}[t.status]||t.status),1)]),_:2},1032,["color"])]),s("div",na," ç¬¬ "+a(t.current_day)+" / "+a(t.duration_days)+" å¤© Â· è¿žç»­æ‰“å¡ "+a(t.streak_days)+" å¤© ",1),n(fe,{percent:t.day_progress_pct||0,"show-info":!1,size:"small",style:{"margin-top":"4px"}},null,8,["percent"])]))),128))]),_:1},8,["spinning"])]),n(W),s("div",null,[e[118]||(e[118]=s("h4",{style:{"margin-bottom":"8px"}},"é€‰æ‹©æŒ‘æˆ˜åˆ†é…",-1)),n(N,{spinning:Ue.value},{default:i(()=>[Se.value.length===0?(l(),d("div",la,"æš‚æ— å·²å‘å¸ƒçš„æŒ‘æˆ˜")):p("",!0),(l(!0),d(b,null,w(Se.value,t=>(l(),d("div",{key:t.id,style:{padding:"12px",border:"1px solid #f0f0f0","border-radius":"8px","margin-bottom":"8px",display:"flex","justify-content":"space-between","align-items":"center"}},[s("div",aa,[s("div",ia,a(t.title),1),s("div",ra,a(t.category)+" Â· "+a(t.duration_days)+"å¤© Â· "+a(t.enrollment_count||0)+"äººå‚ä¸Ž ",1),t.description?(l(),d("div",da,a(t.description?.slice(0,60))+a(t.description?.length>60?"...":""),1)):p("",!0)]),n(y,{type:"primary",size:"small",loading:Ne.value===t.id,disabled:se.value.some(c=>c.challenge_id===t.id&&["enrolled","active"].includes(c.status)),onClick:c=>xs(t.id)},{default:i(()=>[r(a(se.value.some(c=>c.challenge_id===t.id&&["enrolled","active"].includes(c.status))?"å·²åˆ†é…":"åˆ†é…"),1)]),_:2},1032,["loading","disabled","onClick"])]))),128))]),_:1},8,["spinning"])])])]),_:1},8,["open","title","width"]),n(le,{open:qe.value,"onUpdate:open":e[27]||(e[27]=t=>qe.value=t),title:"æŽ¨é€å®¡æ‰¹é˜Ÿåˆ—",placement:"right",width:k(M)(720),closable:!0,destroyOnClose:""},{default:i(()=>[s("div",ua,[s("div",ca,[s("div",pa,[s("div",va,a(oe.sent),1),e[119]||(e[119]=s("div",{style:{"font-size":"12px",color:"#999"}},"å·²æŠ•é€’",-1))]),s("div",ga,[s("div",fa,a(oe.pending),1),e[120]||(e[120]=s("div",{style:{"font-size":"12px",color:"#999"}},"å¾…å®¡æ‰¹",-1))]),s("div",ma,[s("div",ya,a(oe.approved),1),e[121]||(e[121]=s("div",{style:{"font-size":"12px",color:"#999"}},"å·²é€šè¿‡",-1))]),s("div",_a,[s("div",ha,a(oe.rejected),1),e[122]||(e[122]=s("div",{style:{"font-size":"12px",color:"#999"}},"å·²æ‹’ç»",-1))])]),s("div",ka,[n(me,{value:U.source_type,"onUpdate:value":e[23]||(e[23]=t=>U.source_type=t),placeholder:"æ¥æº",style:{width:"130px"},"allow-clear":""},{default:i(()=>[n(O,{value:"challenge"},{default:i(()=>[...e[123]||(e[123]=[r("æŒ‘æˆ˜æ‰“å¡",-1)])]),_:1}),n(O,{value:"device_alert"},{default:i(()=>[...e[124]||(e[124]=[r("è®¾å¤‡é¢„è­¦",-1)])]),_:1}),n(O,{value:"micro_action"},{default:i(()=>[...e[125]||(e[125]=[r("å¾®è¡ŒåŠ¨",-1)])]),_:1}),n(O,{value:"ai_recommendation"},{default:i(()=>[...e[126]||(e[126]=[r("AIå»ºè®®",-1)])]),_:1}),n(O,{value:"system"},{default:i(()=>[...e[127]||(e[127]=[r("ç³»ç»Ÿ",-1)])]),_:1})]),_:1},8,["value"]),n(me,{value:U.priority,"onUpdate:value":e[24]||(e[24]=t=>U.priority=t),placeholder:"ä¼˜å…ˆçº§",style:{width:"100px"},"allow-clear":""},{default:i(()=>[n(O,{value:"high"},{default:i(()=>[...e[128]||(e[128]=[r("é«˜",-1)])]),_:1}),n(O,{value:"normal"},{default:i(()=>[...e[129]||(e[129]=[r("ä¸­",-1)])]),_:1}),n(O,{value:"low"},{default:i(()=>[...e[130]||(e[130]=[r("ä½Ž",-1)])]),_:1})]),_:1},8,["value"]),n(me,{value:U.status,"onUpdate:value":e[25]||(e[25]=t=>U.status=t),placeholder:"çŠ¶æ€",style:{width:"100px"}},{default:i(()=>[n(O,{value:"pending"},{default:i(()=>[...e[131]||(e[131]=[r("å¾…å®¡æ‰¹",-1)])]),_:1}),n(O,{value:"approved"},{default:i(()=>[...e[132]||(e[132]=[r("å·²é€šè¿‡",-1)])]),_:1}),n(O,{value:"sent"},{default:i(()=>[...e[133]||(e[133]=[r("å·²æŠ•é€’",-1)])]),_:1}),n(O,{value:"rejected"},{default:i(()=>[...e[134]||(e[134]=[r("å·²æ‹’ç»",-1)])]),_:1})]),_:1},8,["value"]),n(y,{type:"primary",size:"small",onClick:ne},{default:i(()=>[...e[135]||(e[135]=[r("åˆ·æ–°",-1)])]),_:1}),e[136]||(e[136]=s("div",{style:{flex:"1"}},null,-1)),U.status==="pending"&&J.value.length>0?(l(),x(y,{key:0,type:"primary",size:"small",loading:Ve.value,onClick:Is},{default:i(()=>[r(" æ‰¹é‡å®¡æ‰¹ ("+a(J.value.length)+") ",1)]),_:1},8,["loading"])):p("",!0)]),n(N,{spinning:Be.value},{default:i(()=>[He.value.length===0?(l(),d("div",ba,"æš‚æ— æŽ¨é€æ¡ç›®")):p("",!0),(l(!0),d(b,null,w(He.value,t=>(l(),d("div",{key:t.id,style:X([{padding:"12px","border-radius":"8px","margin-bottom":"8px",border:"1px solid #f0f0f0",display:"flex",gap:"10px"},{borderLeftWidth:"4px",borderLeftColor:t.priority==="high"?"#ff4d4f":t.priority==="normal"?"#faad14":"#d9d9d9"}])},[t.status==="pending"?(l(),d("div",xa,[n(Ct,{checked:J.value.includes(t.id),onChange:c=>$s(t.id)},null,8,["checked","onChange"])])):p("",!0),s("div",wa,[s("div",Ca,[s("div",Sa,[n(u,{color:Cs(t.source_type),size:"small"},{default:i(()=>[r(a(Ss(t.source_type)),1)]),_:2},1032,["color"]),s("span",$a,a(t.title),1)]),n(u,{color:{pending:"orange",approved:"blue",sent:"green",rejected:"red",expired:"default"}[t.status],size:"small"},{default:i(()=>[r(a({pending:"å¾…å®¡æ‰¹",approved:"å·²é€šè¿‡",sent:"å·²æŠ•é€’",rejected:"å·²æ‹’ç»",expired:"å·²è¿‡æœŸ"}[t.status]),1)]),_:2},1032,["color"])]),t.student_name?(l(),d("div",Ta,"å­¦å‘˜: "+a(t.student_name),1)):p("",!0),t.content?(l(),d("div",za,a(t.content),1)):p("",!0),s("div",Aa,[r(a(t.created_at?.replace("T"," ").slice(0,16))+" ",1),t.coach_note?(l(),d("span",Ia,"æ‰¹æ³¨: "+a(t.coach_note),1)):p("",!0)]),t.status==="pending"?(l(),d("div",Pa,[n(y,{size:"small",style:{background:"#52c41a","border-color":"#52c41a",color:"#fff"},onClick:c=>Ts(t)},{default:i(()=>[...e[137]||(e[137]=[r(" é€šè¿‡ ",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",onClick:c=>t._editing=!0},{default:i(()=>[...e[138]||(e[138]=[r(" ä¿®æ”¹åŽé€šè¿‡ ",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",danger:"",onClick:c=>As(t)},{default:i(()=>[...e[139]||(e[139]=[r(" æ‹’ç» ",-1)])]),_:1},8,["onClick"])])):p("",!0),t._editing?(l(),d("div",ja,[n(St,{value:t._editContent,"onUpdate:value":c=>t._editContent=c,rows:2,placeholder:"ä¿®æ”¹æŽ¨é€å†…å®¹...",style:{"margin-bottom":"6px"}},null,8,["value","onUpdate:value"]),n(Ls,{value:t._editTime,"onUpdate:value":c=>t._editTime=c,"show-time":"",placeholder:"å®šæ—¶å‘é€ï¼ˆå¯é€‰ï¼‰",style:{width:"100%","margin-bottom":"6px"},format:"YYYY-MM-DD HH:mm"},null,8,["value","onUpdate:value"]),s("div",Oa,[n(y,{size:"small",type:"primary",onClick:c=>zs(t)},{default:i(()=>[...e[140]||(e[140]=[r("ç¡®è®¤é€šè¿‡",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",onClick:c=>t._editing=!1},{default:i(()=>[...e[141]||(e[141]=[r("å–æ¶ˆ",-1)])]),_:1},8,["onClick"])])])):p("",!0)])],4))),128))]),_:1},8,["spinning"]),Fe.value>20?(l(),d("div",Da,[n(Qs,{current:Ge.value,"onUpdate:current":e[26]||(e[26]=t=>Ge.value=t),total:Fe.value,"page-size":20,size:"small",onChange:ne},null,8,["current","total"])])):p("",!0)])]),_:1},8,["open","width"]),n(le,{open:ue.value,"onUpdate:open":e[40]||(e[40]=t=>ue.value=t),title:m.value?.name,placement:"right",width:k(M)(800),closable:!0,destroyOnClose:""},{default:i(()=>[m.value?(l(),d("div",Ea,[s("div",La,[n(D,{size:64,src:m.value.avatar},{default:i(()=>[r(a(m.value.name?.charAt(0)),1)]),_:1},8,["src"]),s("div",Qa,[s("h3",null,a(m.value.name),1),s("p",null,a(m.value.condition),1),n(u,{color:Ft(m.value.stage)},{default:i(()=>[r(a(Te(m.value.stage)),1)]),_:1},8,["color"])])]),n(qs,null,{default:i(()=>[n(ye,{key:"health",tab:"å¥åº·æ•°æ®"},{default:i(()=>[G.value?(l(),x(N,{key:0,tip:"AI æ­£åœ¨åˆ†æžå­¦å‘˜æ•°æ®...",style:{display:"block","text-align":"center",padding:"40px 0"}})):(l(),d("div",Ma,[de.value.has_real_data&&!de.value.has_real_data.glucose?(l(),x(u,{key:0,color:"orange",style:{"margin-bottom":"8px"}},{default:i(()=>[...e[142]||(e[142]=[r("æ¨¡æ‹Ÿæ•°æ®",-1)])]),_:1})):p("",!0),s("div",Ra,[e[143]||(e[143]=s("div",{class:"metric-label"},"ç©ºè…¹è¡€ç³–",-1)),s("div",Ua,a(m.value.healthData?.fastingGlucose??"--")+" mmol/L",1)]),s("div",Na,[e[144]||(e[144]=s("div",{class:"metric-label"},"é¤åŽè¡€ç³–",-1)),s("div",qa,a(m.value.healthData?.postprandialGlucose??"--")+" mmol/L",1)]),s("div",Ba,[e[145]||(e[145]=s("div",{class:"metric-label"},"ä½“é‡",-1)),s("div",Ha,a(m.value.healthData?.weight??"--")+" kg",1)]),s("div",Fa,[e[146]||(e[146]=s("div",{class:"metric-label"},"æœ¬å‘¨è¿åŠ¨",-1)),s("div",Ga,a(m.value.healthData?.exerciseMinutes||0)+" åˆ†é’Ÿ",1)]),m.value.healthData?.sleepHours?(l(),d("div",Va,[e[147]||(e[147]=s("div",{class:"metric-label"},"æ—¥å‡ç¡çœ ",-1)),s("div",Ja,a(m.value.healthData.sleepHours)+" å°æ—¶",1)])):p("",!0),m.value.healthData?.heartRate?(l(),d("div",Wa,[e[148]||(e[148]=s("div",{class:"metric-label"},"å¿ƒçŽ‡",-1)),s("div",Ya,a(m.value.healthData.heartRate)+" bpm",1)])):p("",!0)])),!G.value&&m.value.healthData?.highlights?.length?(l(),d("div",Za,[(l(!0),d(b,null,w(m.value.healthData.highlights,t=>(l(),x(u,{key:t,color:"red"},{default:i(()=>[r(a(t),1)]),_:2},1024))),128))])):p("",!0)]),_:1}),n(ye,{key:"records",tab:"è·Ÿè¿›è®°å½•"},{default:i(()=>[s("div",Xa,[n(Rs,null,{default:i(()=>[(l(!0),d(b,null,w(m.value.records,t=>(l(),x(Ms,{key:t.id,color:t.type==="call"?"blue":"green"},{default:i(()=>[s("div",Ka,[s("div",ei,a(t.time),1),s("div",ti,a(t.content),1)])]),_:2},1032,["color"]))),128))]),_:1})])]),_:1}),n(ye,{key:"intervention",tab:"å¹²é¢„æ–¹æ¡ˆ"},{default:i(()=>[G.value?(l(),x(N,{key:0,tip:"AI æ­£åœ¨ç”Ÿæˆå¹²é¢„æ–¹æ¡ˆ...",style:{display:"block","text-align":"center",padding:"40px 0"}})):(l(),d("div",si,[m.value.interventionPlan?(l(),d("div",oi,[s("h4",null,a(m.value.interventionPlan.name),1),s("p",null,a(m.value.interventionPlan.description),1),m.value.interventionPlan.domains?.length?(l(),d("div",ni,[(l(!0),d(b,null,w(m.value.interventionPlan.domains,t=>(l(),x(u,{key:t,color:"blue"},{default:i(()=>[r(a(t),1)]),_:2},1024))),128))])):p("",!0),m.value.interventionPlan.tone?(l(),d("div",li," è¯­æ°”é£Žæ ¼: "+a(m.value.interventionPlan.tone),1)):p("",!0),m.value.interventionPlan.scripts?(l(),d("div",ai,[n(Ns,null,{default:i(()=>[n(it,{key:"opening",header:"å¼€åœºç™½"},{default:i(()=>[s("p",null,a(m.value.interventionPlan.scripts.opening),1)]),_:1}),n(it,{key:"motivation",header:"åŠ¨æœºæ¿€å‘"},{default:i(()=>[s("p",null,a(m.value.interventionPlan.scripts.motivation),1)]),_:1}),n(it,{key:"closing",header:"ç»“æŸè¯­"},{default:i(()=>[s("p",null,a(m.value.interventionPlan.scripts.closing),1)]),_:1})]),_:1})])):p("",!0)])):(l(),x(Us,{key:0,description:"æš‚æ— å¹²é¢„æ–¹æ¡ˆ"}))]))]),_:1}),n(ye,{key:"diagnosis",tab:"è¯Šæ–­è¯„ä¼°"},{default:i(()=>[G.value?(l(),x(N,{key:0,tip:"AI æ­£åœ¨è¯Šæ–­è¯„ä¼°...",style:{display:"block","text-align":"center",padding:"40px 0"}})):he.value?(l(),x(Ie,{key:1,message:he.value,type:"error","show-icon":"",style:{"margin-bottom":"12px"}},null,8,["message"])):p("",!0),!G.value&&de.value.has_real_data&&!de.value.has_real_data.profile?(l(),x(u,{key:2,color:"orange",style:{"margin-bottom":"8px"}},{default:i(()=>[...e[149]||(e[149]=[r("æ¨¡æ‹Ÿæ•°æ®",-1)])]),_:1})):p("",!0),G.value?p("",!0):(l(),d("div",ii,[s("div",ri,[e[154]||(e[154]=s("h4",{class:"dx-card-title"},"è¡Œä¸ºè¯Šæ–­",-1)),s("div",di,[s("div",ui,[e[150]||(e[150]=s("span",{class:"info-label"},"é—®é¢˜",-1)),s("span",ci,a(z.problem),1)]),s("div",pi,[e[151]||(e[151]=s("span",{class:"info-label"},"å›°éš¾åº¦",-1)),s("span",vi,a(es(z.difficulty)),1)]),s("div",gi,[e[152]||(e[152]=s("span",{class:"info-label"},"ç›®çš„",-1)),s("span",fi,a(z.purpose),1)])]),n(W,{style:{margin:"12px 0"}}),e[155]||(e[155]=s("div",{class:"dx-subtitle"},"å…­ç±»åŽŸå› åˆ†æž",-1)),s("div",mi,[(l(!0),d(b,null,w(z.sixReasons,t=>(l(),d("div",{key:t.name,class:"bar-source"},[s("div",yi,[s("span",null,a(t.name),1),s("span",{style:X({color:t.isWeak?"#ff4d4f":"#52c41a"})},a(t.score)+"/"+a(t.max),5)]),n(fe,{percent:t.score,"stroke-color":Kt(t.score,t.max,t.isWeak),"show-info":!1,size:"small"},null,8,["percent","stroke-color"]),t.isWeak?(l(),x(u,{key:0,color:"red",size:"small",style:{"margin-top":"2px"}},{default:i(()=>[...e[153]||(e[153]=[r("è–„å¼±é¡¹",-1)])]),_:1})):p("",!0)]))),128))]),n(W,{style:{margin:"12px 0"}}),e[156]||(e[156]=s("div",{class:"dx-subtitle"},"å¿ƒç†å±‚æ¬¡",-1)),s("div",_i,[(l(!0),d(b,null,w(z.psychLevels,t=>(l(),x(u,{key:t.label,color:t.color},{default:i(()=>[r(a(t.label),1)]),_:2},1032,["color"]))),128))]),n(W,{style:{margin:"12px 0"}}),e[157]||(e[157]=s("div",{class:"dx-subtitle"},"å¾ªè¯ä¾æ®",-1)),s("div",hi,[(l(!0),d(b,null,w(z.evidence,t=>(l(),d("div",{key:t.label,class:"evidence-item"},[s("span",ki,a(t.label),1),s("span",{class:q(["evidence-value","ev-"+t.status])},a(t.value),3)]))),128))])]),s("div",bi,[e[160]||(e[160]=s("h4",{class:"dx-card-title"},"SPI è¯„ä¼°",-1)),s("div",xi,[s("div",{class:q(["spi-circle",z.spiScore>=80?"spi-good":z.spiScore>=60?"spi-mid":"spi-low"])},[s("div",wi,a(z.spiScore),1),e[158]||(e[158]=s("div",{class:"spi-label"},"SPI",-1))],2)]),s("div",Ci,[s("div",Si,[e[159]||(e[159]=s("span",{class:"info-label"},"æˆåŠŸçŽ‡",-1)),s("span",$i,a(z.successRate)+"%",1)])]),n(W,{style:{margin:"12px 0"}}),e[161]||(e[161]=s("div",{class:"dx-subtitle"},"è¯„ä¼°å…¬å¼",-1)),s("div",Ti,a(z.interventionFormula),1),n(W,{style:{margin:"12px 0"}}),e[162]||(e[162]=s("div",{class:"dx-subtitle"},"å¹²é¢„æé†’",-1)),n(Ie,{message:z.interventionAlert,type:"warning","show-icon":"",style:{"margin-top":"8px"}},null,8,["message"])])]))]),_:1}),n(ye,{key:"prescription",tab:"è¡Œä¸ºå¤„æ–¹"},{default:i(()=>[G.value?(l(),x(N,{key:0,tip:"AI æ­£åœ¨ç”Ÿæˆè¡Œä¸ºå¤„æ–¹...",style:{display:"block","text-align":"center",padding:"40px 0"}})):p("",!0),G.value?p("",!0):(l(),d("div",zi,[s("div",Ai,[e[165]||(e[165]=s("h4",{class:"dx-card-title"},"å½“å‰å¤„æ–¹",-1)),e[166]||(e[166]=s("div",{class:"dx-subtitle"},"å¹²é¢„é˜¶æ®µ",-1)),s("div",Ii,[(l(!0),d(b,null,w(F.phaseTags,t=>(l(),x(u,{key:t.label,color:t.active?"blue":t.done?"green":"default"},{default:i(()=>[r(a(t.done&&!t.active?"âœ“ ":"")+a(t.label),1)]),_:2},1032,["color"]))),128))]),s("div",Pi,a(F.phase.current)+" Â· "+a(F.phase.week)+" / "+a(F.phase.total),1),n(W,{style:{margin:"12px 0"}}),e[167]||(e[167]=s("div",{class:"dx-subtitle"},"ç›®æ ‡è¡Œä¸º",-1)),s("div",ji,[(l(!0),d(b,null,w(F.targetBehaviors,t=>(l(),d("div",{key:t.name,class:"task-item"},[s("div",Oi,[s("span",Di,a(t.name),1),s("span",{class:"task-days",style:X({color:yt(t.progress)})},a(t.currentDays)+"å¤©",5)]),n(fe,{percent:t.progress,"stroke-color":yt(t.progress),size:"small"},null,8,["percent","stroke-color"]),s("div",Ei,"ç›®æ ‡ï¼š"+a(t.target),1)]))),128))]),n(W,{style:{margin:"12px 0"}}),e[168]||(e[168]=s("div",{class:"dx-subtitle"},"å¹²é¢„ç­–ç•¥",-1)),s("div",Li,[(l(!0),d(b,null,w(F.strategies,t=>(l(),x(u,{key:t.label,color:t.type},{default:i(()=>[r(a(t.label),1)]),_:2},1032,["color"]))),128))]),s("div",Qi,[n(y,{type:"primary",size:"small"},{default:i(()=>[...e[163]||(e[163]=[r("è°ƒæ•´å¤„æ–¹",-1)])]),_:1}),n(y,{size:"small"},{default:i(()=>[...e[164]||(e[164]=[r("æŸ¥çœ‹åŽ†å²",-1)])]),_:1})])]),s("div",Mi,[e[171]||(e[171]=s("h4",{class:"dx-card-title"},"AI è¯Šæ–­å»ºè®®",-1)),s("div",Ri,[(l(!0),d(b,null,w(pt.value,t=>(l(),d("div",{key:t.id,class:q(["suggestion-card","sug-"+t.priority])},[s("div",Ui,[s("span",Ni,a(t.title),1),n(u,{color:t.priority==="high"?"red":"blue",size:"small"},{default:i(()=>[r(a(t.priority==="high"?"é«˜ä¼˜":"ä¸­ä¼˜"),1)]),_:2},1032,["color"])]),s("div",qi,a(t.content),1),s("div",Bi,[n(y,{type:"primary",size:"small",onClick:c=>as(t)},{default:i(()=>[...e[169]||(e[169]=[r("é‡‡çº³",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",onClick:c=>is(t)},{default:i(()=>[...e[170]||(e[170]=[r("å‚è€ƒ",-1)])]),_:1},8,["onClick"])])],2))),128))])])]))]),_:1})]),_:1}),Oe.value?(l(),d("div",Hi,[s("div",Fi,[e[174]||(e[174]=s("span",{class:"copilot-title"},"AI æ•™ç»ƒå…±é©¾å°",-1)),n(u,{color:"blue",size:"small"},{default:i(()=>[...e[172]||(e[172]=[r("å®žæ—¶åˆ†å‘ä¸­",-1)])]),_:1}),n(y,{size:"small",type:"text",onClick:e[28]||(e[28]=t=>Oe.value=!1),style:{"margin-left":"auto"}},{default:i(()=>[...e[173]||(e[173]=[r("æ”¶èµ·",-1)])]),_:1})]),s("div",Gi,[e[176]||(e[176]=s("span",{class:"stage-label"},"ç”¨æˆ·é˜¶æ®µ:",-1)),s("span",{class:q(["user-stage-badge","stage-"+A.currentStage])},a(A.currentStage),3),A.stageChanged?(l(),x(u,{key:0,color:"green",size:"small"},{default:i(()=>[...e[175]||(e[175]=[r("åˆšè¿ç§»",-1)])]),_:1})):p("",!0)]),A.hitTags.length?(l(),d("div",Vi,[(l(!0),d(b,null,w(A.hitTags,t=>(l(),x(u,{key:t,color:t.includes("RESISTANCE")||t.includes("HOPELESS")?"red":t.includes("EMO")?"orange":"green",size:"small"},{default:i(()=>[r(a(t),1)]),_:2},1032,["color"]))),128))])):p("",!0),s("div",Ji,[(l(!0),d(b,null,w(A.prescriptions,(t,c)=>(l(),d("div",{key:c,class:"copilot-rx-card"},[s("div",Wi,[n(u,{color:t.risk_level==="L3"?"red":t.risk_level==="L2"?"orange":"green",size:"small"},{default:i(()=>[r(a(t.risk_level),1)]),_:2},1032,["color"])]),s("p",Yi,a(t.instruction),1),s("div",Zi,[vt[t.suggested_tool]?(l(),x(Zs(vt[t.suggested_tool]),Ys({key:0,ref_for:!0},t.tool_props||{},{class:"dynamic-tool-wrapper",onAction:De}),null,16)):(l(),d("div",Xi,[n(Bs,null,{default:i(()=>[n(y,{size:"small",type:"primary",onClick:Q=>De({action:"adopt",tool:t.suggested_tool,instruction:t.instruction})},{default:i(()=>[...e[177]||(e[177]=[r(" é‡‡çº³å»ºè®® ",-1)])]),_:1},8,["onClick"]),n(y,{size:"small",onClick:Q=>De({action:"ignore",tool:t.suggested_tool})},{default:i(()=>[...e[178]||(e[178]=[r(" æš‚ä¸å¤„ç† ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]))])]))),128))]),A.transitionEvent?(l(),d("div",Ki,[n(Ie,{type:"success","show-icon":"",message:"é˜¶æ®µè¿ç§»: "+A.transitionEvent.from+" â†’ "+A.transitionEvent.to,description:A.transitionEvent.reason},null,8,["message","description"])])):p("",!0),s("div",er,[e[183]||(e[183]=s("span",{style:{"font-size":"12px",color:"#888","margin-right":"8px"}},"æ¨¡å¼:",-1)),n(lt,{value:ke.value,"onUpdate:value":e[29]||(e[29]=t=>ke.value=t),size:"small","button-style":"solid"},{default:i(()=>[n(re,{value:"live"},{default:i(()=>[...e[179]||(e[179]=[r("ç”Ÿäº§",-1)])]),_:1}),n(re,{value:"sandbox"},{default:i(()=>[...e[180]||(e[180]=[r("æ²™ç›’",-1)])]),_:1})]),_:1},8,["value"]),ke.value==="live"?(l(),x(u,{key:0,color:"green",size:"small",style:{"margin-left":"8px"}},{default:i(()=>[...e[181]||(e[181]=[r("8002",-1)])]),_:1})):(l(),x(u,{key:1,color:"orange",size:"small",style:{"margin-left":"8px"}},{default:i(()=>[...e[182]||(e[182]=[r("8003",-1)])]),_:1}))]),s("div",tr,[n(me,{value:xe.value,"onUpdate:value":e[30]||(e[30]=t=>xe.value=t),style:{width:"100%","margin-bottom":"8px"},placeholder:"é€‰æ‹©æ¨¡æ‹Ÿå¯¹è¯"},{default:i(()=>[n(O,{value:"æˆ‘æ˜¨æ™šåˆæ²¡å¿ä½åƒäº†ä¸¤å¤§åŒ…è–¯ç‰‡ï¼ŒçŽ°åœ¨å¥½åŽæ‚”ã€‚"},{default:i(()=>[...e[184]||(e[184]=[r("æƒ…ç»ªåŒ–è¿›é£Ÿ",-1)])]),_:1}),n(O,{value:"åˆ«è·Ÿæˆ‘æå‡è‚¥ï¼Œæˆ‘æ´»å¾—å¤Ÿç´¯äº†ï¼Œåƒç‚¹ä¸œè¥¿æ€Žä¹ˆäº†ï¼Ÿ"},{default:i(()=>[...e[185]||(e[185]=[r("æŠµè§¦/é˜²å¾¡",-1)])]),_:1}),n(O,{value:"æˆ‘æ‰“ç®—ä¸‹å‘¨ä¸€å¼€å§‹è·‘æ­¥ï¼Œä½ è§‰å¾—è¡Œå—ï¼Ÿ"},{default:i(()=>[...e[186]||(e[186]=[r("è¡ŒåŠ¨æ„æ„¿",-1)])]),_:1}),n(O,{value:"ä»Šå¤©è€æ¿å¼€ä¼šéª‚äº†æˆ‘ï¼Œæˆ‘è§‰å¾—æˆ‘è¿™è¾ˆå­éƒ½æ²¡å¸Œæœ›äº†ã€‚"},{default:i(()=>[...e[187]||(e[187]=[r("ç»æœ›/åŽ‹åŠ›",-1)])]),_:1})]),_:1},8,["value"]),n(y,{type:"primary",block:"",size:"small",onClick:Ut,loading:be.value},{default:i(()=>[...e[188]||(e[188]=[r(" æ¨¡æ‹Ÿè§¦å‘ ",-1)])]),_:1},8,["loading"])]),!A.hitTags.length&&!be.value?(l(),d("div",sr," ç­‰å¾…ç”¨æˆ·å¯¹è¯... å‘½ä¸­è§¦å‘è§„åˆ™åŽå°†å®žæ—¶æ˜¾ç¤ºæ•™ç»ƒå¤„æ–¹ ")):p("",!0)])):(l(),d("div",or,[n(y,{size:"small",type:"dashed",onClick:e[31]||(e[31]=t=>Oe.value=!0)},{default:i(()=>[...e[189]||(e[189]=[r("å±•å¼€ AI å…±é©¾å°",-1)])]),_:1})])),ze.value?(l(),d("div",nr,[n(W,null,{default:i(()=>[...e[190]||(e[190]=[r("è·Ÿè¿›å¯¹è¯",-1)])]),_:1}),Ae.value?(l(),d("div",lr,[n(N,{size:"small"}),e[191]||(e[191]=r(" AI æ­£åœ¨åˆ†æžå­¦å‘˜æ•°æ®ï¼Œç”Ÿæˆè·Ÿè¿›å»ºè®®... ",-1))])):p("",!0),Z.value&&!Ae.value?(l(),d("div",ar,[e[194]||(e[194]=s("div",{class:"suggestion-label"},"AI ç”Ÿæˆçš„è·Ÿè¿›å†…å®¹ï¼š",-1)),s("div",ir,a(Z.value),1),s("div",rr,[n(y,{size:"small",type:"primary",onClick:e[32]||(e[32]=t=>L.value=Z.value)},{default:i(()=>[...e[192]||(e[192]=[r("é‡‡ç”¨æ­¤å»ºè®®",-1)])]),_:1}),n(y,{size:"small",onClick:e[33]||(e[33]=t=>st(m.value))},{default:i(()=>[...e[193]||(e[193]=[r("é‡æ–°ç”Ÿæˆ",-1)])]),_:1})])])):p("",!0),s("div",dr,[e[195]||(e[195]=s("div",{class:"template-label"},"å¿«æ·æ¨¡æ¿ï¼š",-1)),s("div",ur,[(l(),d(b,null,w(Gt,t=>n(u,{key:t.id,class:"template-tag",onClick:c=>L.value=t.content.replace("{name}",m.value?.name||"")},{default:i(()=>[r(a(t.label),1)]),_:2},1032,["onClick"])),64))])]),s("div",cr,[Tt(s("textarea",{"onUpdate:modelValue":e[34]||(e[34]=t=>L.value=t),class:"followup-textarea",placeholder:"ç¼–è¾‘è·Ÿè¿›æ¶ˆæ¯...",rows:"4"},null,512),[[zt,L.value]]),s("div",pr,[n(y,{onClick:e[35]||(e[35]=t=>st(m.value))},{default:i(()=>[n(k(Ot)),e[196]||(e[196]=r(" AI ç”Ÿæˆ ",-1))]),_:1}),n(y,{type:"primary",disabled:!L.value.trim(),onClick:e[36]||(e[36]=t=>Vt(m.value))},{default:i(()=>[...e[197]||(e[197]=[r(" å‘é€è·Ÿè¿›æ¶ˆæ¯ ",-1)])]),_:1},8,["disabled"])])]),ge.value.length>0?(l(),d("div",vr,[e[198]||(e[198]=s("div",{class:"history-label"},"æœ¬æ¬¡è·Ÿè¿›è®°å½•ï¼š",-1)),(l(!0),d(b,null,w(ge.value,(t,c)=>(l(),d("div",{key:c,class:"history-item"},[s("div",gr,a(t.time),1),s("div",fr,a(t.content),1),n(u,{color:t.source==="ai"?"blue":"green",size:"small"},{default:i(()=>[r(a(t.source==="ai"?"AIè¾…åŠ©":"æ‰‹åŠ¨"),1)]),_:2},1032,["color"])]))),128))])):p("",!0)])):p("",!0),s("div",mr,[ze.value?(l(),x(y,{key:1,block:"",onClick:e[38]||(e[38]=t=>{ze.value=!1,ge.value=[]})},{default:i(()=>[...e[200]||(e[200]=[r(" ç»“æŸè·Ÿè¿› ",-1)])]),_:1})):(l(),x(y,{key:0,type:"primary",block:"",onClick:e[37]||(e[37]=t=>mt(m.value))},{default:i(()=>[...e[199]||(e[199]=[r(" å¼€å§‹è·Ÿè¿›å¯¹è¯ ",-1)])]),_:1})),n(y,{style:{"margin-top":"8px"},block:"",onClick:e[39]||(e[39]=t=>ks(m.value))},{default:i(()=>[...e[201]||(e[201]=[r(" åˆ†é…æŒ‘æˆ˜ ",-1)])]),_:1})])])):p("",!0)]),_:1},8,["open","title","width"])])}}}),Dr=Qt(_r,[["__scopeId","data-v-20034ca9"]]);export{Dr as default};
