# 行为健康平台 - 终端用户UI/UX设计指南

> 版本: v1.0 | 日期: 2026-02-03
> 目标：为终端用户（患者、教练）提供清晰、易用、有温度的产品体验

---

## 一、设计原则

### 1.1 核心原则
- **简单优先**：每个页面只解决一个主要任务
- **渐进式呈现**：信息分层，避免一次性展示过多内容
- **即时反馈**：每个操作都有明确的反馈
- **情感化设计**：健康管理是长期行为，需要情感支持

### 1.2 可访问性
- 字体大小：最小 14px
- 点击区域：最小 44x44px
- 色彩对比度：WCAG AA级以上
- 支持深色模式

---

## 二、页面设计顺序（实施优先级）

### 阶段一：核心体验闭环（2-3天）

#### 1. 患者首页 ⭐⭐⭐⭐⭐
**路径**: `/client` (5174) 或 `/` (5175)

**内容结构**:
```
┌─────────────────────────────────────┐
│  欢迎语 + 用户头像                    │
│  "早上好，张先生"                     │
├─────────────────────────────────────┤
│  今日重点任务（最多3个）               │
│  ├─ 早餐后测血糖 ✓                   │
│  ├─ 步行30分钟                       │
│  └─ 晚上8点用药提醒                   │
├─────────────────────────────────────┤
│  健康快照（4格宫格）                   │
│  ├─ 血糖 [图表] ├─ 体重 [数字]        │
│  ├─ 运动 [进度] └─ 睡眠 [评分]        │
├─────────────────────────────────────┤
│  快速入口（4个核心功能）               │
│  [记录数据] [AI助手] [我的进展] [更多]  │
└─────────────────────────────────────┘
```

**设计要点**:
- 使用**大卡片**，避免信息密集
- 任务列表用**勾选框**，完成时有动画反馈
- 数据可视化用**简单图表**（折线图/环形图）
- 底部导航固定（Home/数据/对话/我的）

**参考现状**:
- ✅ admin-portal的`/client`页面已有基础
- ⚠️  需要优化：任务列表交互、数据可视化、快速入口

---

#### 2. 数据录入页 ⭐⭐⭐⭐⭐
**路径**: `/client/data-input` (5175)

**交互流程**:
```
步骤1: 选择数据类型
  [血糖] [体重] [血压] [运动] [饮食] [情绪]
         ↓
步骤2: 输入数据（大号数字键盘）
  血糖值: [___] mmol/L
  测量时间: [早餐前 ▼]
         ↓
步骤3: 即时反馈
  ✓ 记录成功！
  今日血糖平均: 6.2 mmol/L
  [查看趋势] [继续记录]
```

**设计要点**:
- 使用**大号输入框**和**大号按钮**
- 提供**快捷选项**（早餐前/后、午餐前/后）
- 智能提示（如果已记录则提示"今天已记录X次"）
- 保存后展示**趋势对比**（比昨天↑/↓）

**参考现状**:
- ✅ h5-patient-app有基础表单
- ⚠️  需要优化：大号输入、智能提示、趋势反馈

---

#### 3. AI助手对话 ⭐⭐⭐⭐
**路径**: `/client/chat` (5174) 或 `/chat` (5175)

**布局**:
```
┌─────────────────────────────────────┐
│ ← 返回        AI健康助手      [···]  │
├─────────────────────────────────────┤
│                                     │
│  [AI头像]                            │
│  你好！我是你的健康教练，              │
│  今天感觉怎么样？                     │
│                           [用户头像]  │
│                      有点累，今天     │
│                      血糖有点高       │
│  [AI头像]                            │
│  我看到你今天上午血糖7.8，            │
│  比平时高一些。早餐吃了什么？          │
│                                     │
├─────────────────────────────────────┤
│ 快捷回复:                             │
│ [馒头+豆浆] [米粥] [其他]              │
├─────────────────────────────────────┤
│ [输入框...] [语音] [发送]             │
└─────────────────────────────────────┘
```

**设计要点**:
- **流式输出**（打字机效果）
- **快捷回复按钮**（减少输入）
- **上下文记忆**（引用前文数据）
- **情感化头像**（AI表情变化）

**参考现状**:
- ✅ admin-portal有SSE流式对话
- ⚠️  需要优化：快捷回复、情感化交互

---

#### 4. 进展看板 ⭐⭐⭐⭐
**路径**: `/client/dashboard` (5174)

**内容架构**:
```
┌─────────────────────────────────────┐
│  本周健康报告                         │
│  2026.01.27 - 02.02                 │
├─────────────────────────────────────┤
│  🎯 本周目标达成率: 82%               │
│  [进度条动画]                         │
├─────────────────────────────────────┤
│  📊 各项指标趋势                      │
│  ├─ 血糖 [折线图] 趋势平稳 ✓          │
│  ├─ 体重 [折线图] 下降0.5kg ✓         │
│  ├─ 运动 [柱状图] 达标5/7天           │
│  └─ 用药 [勾选] 按时100% ✓            │
├─────────────────────────────────────┤
│  💬 AI教练点评                        │
│  "本周表现不错！血糖控制稳定，         │
│   建议继续保持..."                    │
├─────────────────────────────────────┤
│  [查看完整报告] [分享给教练]           │
└─────────────────────────────────────┘
```

**设计要点**:
- 使用**图表可视化**（ECharts）
- **成就感设计**（达成动画、徽章）
- **周期对比**（本周vs上周）
- **可下载PDF报告**

**参考现状**:
- ✅ h5项目有Dashboard.vue
- ⚠️  需要优化：图表美化、成就系统

---

### 阶段二：增强功能（3-5天）

#### 5. 个人档案 ⭐⭐⭐
- 基本信息、病史、用药史
- 设备绑定管理
- 隐私设置

#### 6. 成长之旅 ⭐⭐⭐⭐
- **路径**: `/journey` (React页面已集成)
- 行为改变阶段可视化
- 里程碑展示
- 成就徽章系统

#### 7. 学习中心 ⭐⭐
- 健康知识文章
- 视频教程
- 食谱推荐

#### 8. 社区功能 ⭐⭐
- 经验分享
- 互助问答
- 活动打卡

---

### 阶段三：教练工作台（2-3天）

#### 9. 教练学员列表 ⭐⭐⭐⭐⭐
**路径**: `/coach/my/students` (5174)

**布局**:
```
┌─────────────────────────────────────┐
│  我的学员 (28人)          [搜索🔍]    │
├─────────────────────────────────────┤
│  筛选: [全部▼] [阶段▼] [风险▼]       │
├─────────────────────────────────────┤
│  ⚠️ 需要关注 (3人)                   │
│  ┌─────────────────────────────────┐│
│  │ 张先生 58岁 | 阶段: 行动期       ││
│  │ 🔴 3天未登录 | 血糖波动大        ││
│  │ [查看详情] [发消息]              ││
│  └─────────────────────────────────┘│
│                                     │
│  ✓ 进展良好 (18人)                   │
│  ┌─────────────────────────────────┐│
│  │ 李女士 45岁 | 阶段: 维持期       ││
│  │ 🟢 今日已打卡 | 连续7天达标      ││
│  │ [查看详情]                       ││
│  └─────────────────────────────────┘│
│                                     │
│  📋 其他学员 (7人) [展开▼]           │
└─────────────────────────────────────┘
```

**设计要点**:
- **风险优先排序**（红-黄-绿）
- **快速筛选**（按阶段/风险）
- **关键指标前置**（登录、打卡、异常）
- **快速操作**（消息、电话）

---

#### 10. 学员详情页 ⭐⭐⭐⭐⭐
**路径**: `/coach/student/:id`

**内容架构**:
```
┌─────────────────────────────────────┐
│  张先生，58岁，糖尿病2型              │
│  教练: 李教练 | 开始日期: 2025.12.01  │
├─────────────────────────────────────┤
│  [总览] [数据] [任务] [沟通] [报告]   │
├─────────────────────────────────────┤
│  📊 本周数据汇总                      │
│  ├─ 血糖: 平均6.8 (达标)             │
│  ├─ 体重: 72.5kg (-0.3kg)           │
│  ├─ 运动: 5/7天达标                  │
│  └─ 用药: 100%按时                   │
├─────────────────────────────────────┤
│  🤖 AI Copilot建议                   │
│  [展开] 系统检测到血糖晚餐后偏高...    │
├─────────────────────────────────────┤
│  ✍️ 教练备注                          │
│  [添加备注] [查看历史]                │
└─────────────────────────────────────┘
```

**设计要点**:
- **Tab分页**（避免滚动过长）
- **AI辅助**（CoachCopilot建议前置）
- **快速操作栏**（消息/电话/任务）
- **时间轴记录**（干预历史）

---

## 三、内容组织原则

### 3.1 信息层次

```
Level 1: 关键行动
├─ 今日必做任务
├─ 需要立即关注的异常
└─ 快速入口按钮

Level 2: 核心数据
├─ 趋势图表
├─ 周期对比
└─ 达成率统计

Level 3: 辅助信息
├─ AI建议
├─ 学习内容
└─ 历史记录
```

### 3.2 文案原则

#### 患者端文案
- ✅ "今天感觉怎么样？"
- ❌ "请输入今日健康状态"

- ✅ "太棒了！连续7天达标"
- ❌ "任务完成率100%"

- ✅ "血糖有点高，要不要和AI助手聊聊？"
- ❌ "检测到血糖异常，建议咨询"

#### 教练端文案
- ✅ "3位学员需要关注"
- ❌ "风险学员列表(3)"

- ✅ "张先生3天未打卡，可能遇到困难"
- ❌ "用户001连续3天未活跃"

---

## 四、交互设计要点

### 4.1 加载状态
```
数据加载: 骨架屏（不用菊花）
提交操作: 按钮loading + 禁用
AI对话: 打字机动画
页面切换: 过渡动画（200ms）
```

### 4.2 空状态
```
无数据:
  ├─ 插图（友好）
  ├─ 文案（鼓励）
  └─ 操作按钮（引导）

示例:
  [图标]
  "还没有数据记录哦"
  "开始记录你的第一条健康数据吧！"
  [开始记录]
```

### 4.3 错误处理
```
网络错误:
  "网络似乎不太稳定"
  [重试] [稍后再试]

权限错误:
  "这个功能需要登录才能使用"
  [去登录]

操作失败:
  "保存失败了，再试一次？"
  [重新保存]
```

---

## 五、技术实现建议

### 5.1 组件复用
```
核心组件库:
├─ Card（卡片）
├─ Chart（图表封装）
├─ TaskItem（任务项）
├─ DataInput（数据录入）
├─ ChatMessage（对话气泡）
└─ EmptyState（空状态）
```

### 5.2 性能优化
- 图表懒加载
- 图片压缩（WebP）
- 路由懒加载
- 防抖/节流

### 5.3 测试重点
- 核心流程E2E测试
- 移动端适配测试
- 深色模式测试
- 可访问性测试

---

## 六、实施时间表

### Week 1: 核心闭环
- Day 1-2: 患者首页 + 数据录入
- Day 3: AI助手优化
- Day 4: 进展看板
- Day 5: 联调测试

### Week 2: 功能完善
- Day 1-2: 个人档案 + 成长之旅
- Day 3-4: 教练工作台核心功能
- Day 5: 整体优化

### Week 3: 打磨上线
- Day 1-3: UI细节打磨
- Day 4: 内测收集反馈
- Day 5: 修复问题，准备发布

---

## 七、评估指标

### 用户体验指标
- 首页加载时间 < 2s
- 核心任务完成率 > 80%
- 用户留存率（7日）> 60%

### 技术指标
- 页面响应时间 < 300ms
- 移动端适配 100%
- Lighthouse评分 > 90

---

**最后更新**: 2026-02-03
**维护者**: 产品团队
