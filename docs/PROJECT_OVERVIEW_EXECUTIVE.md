# 行为健康平台 - 项目总览报告

> 文档类型: 执行摘要 (Executive Summary)
> 面向对象: 项目决策者、投资人、管理层
> 更新日期: 2026-01-26
> 编制: 技术规划团队

---

## 一、项目定位

### 1.1 一句话描述

**行为健康平台是一个基于AI的健康行为改变支持系统，帮助用户养成健康习惯，同时培养专业的健康教练团队。**

### 1.2 解决的核心问题

| 痛点 | 现状 | 我们的方案 |
|------|------|------------|
| 慢病管理难以持续 | 患者缺乏持续指导，行为改变失败率高 | AI教练7×24小时陪伴支持 |
| 健康教练供给不足 | 专业教练培养周期长、成本高 | 标准化培训+AI辅助，快速培养 |
| 专家知识难以规模化 | 专家一对一服务，覆盖人群有限 | 专家知识AI化，一对多服务 |

### 1.3 目标用户群

```
┌─────────────────────────────────────────────────────────────┐
│                      三类核心用户                            │
├───────────────┬───────────────────┬─────────────────────────┤
│    专家       │      用户/患者     │       健康教练          │
│  (知识提供者)  │   (服务接受者)     │    (服务执行者)         │
├───────────────┼───────────────────┼─────────────────────────┤
│ • 医生        │ • 慢病患者         │ • 在培学员              │
│ • 营养师      │ • 亚健康人群       │ • 初级教练              │
│ • 运动专家    │ • 健康管理需求者   │ • 中高级教练            │
│ • 心理咨询师  │                   │ • 督导专家              │
└───────────────┴───────────────────┴─────────────────────────┘
```

---

## 二、产品架构 ("八爪鱼"模型)

### 2.1 架构总览

我们采用**"八爪鱼"架构**，形象地描述系统各部分的关系：

```
                         ┌─────────────────┐
                         │      大脑       │
                         │   (AI模型层)    │
                         │  理解、生成、推理 │
                         └────────┬────────┘
                                  │
              ┌───────────────────┼───────────────────┐
              │                   │                   │
              ▼                   ▼                   ▼
       ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
       │   触手 1    │    │   触手 2    │    │   触手 3    │
       │ 专家Chatflow │    │ 用户行为养成 │    │ 教练培养体系 │
       │             │    │             │    │             │
       │ 专家知识变现 │    │ 患者健康改善 │    │ 教练能力认证 │
       └─────────────┘    └─────────────┘    └─────────────┘
              │                   │                   │
              └───────────────────┼───────────────────┘
                                  │
                         ┌────────┴────────┐
                         │     数据池      │
                         │   (知识库)      │
                         │ 专业健康知识储备 │
                         └─────────────────┘
```

### 2.2 各组件说明

| 组件 | 比喻 | 功能 | 技术实现 |
|------|------|------|----------|
| **大脑** | 章鱼的大脑 | AI理解和生成能力 | Ollama本地模型 + Claude云端API |
| **数据池** | 章鱼的记忆 | 健康专业知识库 | Obsidian知识管理 + 向量数据库 |
| **触手1** | 专家的手 | 专家知识对话服务 | Dify AI应用平台 |
| **触手2** | 用户的手 | 患者行为干预应用 | H5/小程序 |
| **触手3** | 教练的手 | 教练培训管理系统 | Vue3管理后台 |

---

## 三、三条业务主线详解

### 3.1 触手1: 专家Chatflow (专家知识变现)

**目标**: 让专家的知识通过AI实现规模化服务

```
专家                    平台                      用户
  │                       │                        │
  │  ① 贡献专业知识       │                        │
  │ ──────────────────▶  │                        │
  │                       │  ② 知识AI化            │
  │                       │  (RAG+Prompt)          │
  │                       │                        │
  │                       │  ③ 对话服务     ◀───── │ 咨询问题
  │                       │ ──────────────────────▶│ 获得解答
  │                       │                        │
  │  ④ 收益分成          │                        │
  │ ◀──────────────────  │                        │
```

**当前状态**:
- ✅ 已完成: "吃动守恒"专家Chatflow (示范案例)
- ⏳ 待开发: 更多专家入驻机制、知识审核流程、收益分配系统

**产品形态**: AI对话应用，类似ChatGPT但具备专业健康知识

---

### 3.2 触手2: 用户行为养成 (患者健康改善)

**目标**: 帮助用户/患者建立并维持健康行为习惯

**核心理论**: TTM跨理论模型 (行为改变5阶段)

```
用户行为改变旅程:

  前意向期        意向期         准备期         行动期         维持期
     │             │             │             │             │
     ▼             ▼             ▼             ▼             ▼
  ┌─────┐      ┌─────┐      ┌─────┐      ┌─────┐      ┌─────┐
  │没想过│ ──▶ │在考虑│ ──▶ │准备好│ ──▶ │正在做│ ──▶ │坚持住│
  │改变  │      │改变  │      │改变  │      │改变  │      │改变  │
  └─────┘      └─────┘      └─────┘      └─────┘      └─────┘
     │             │             │             │             │
     ▼             ▼             ▼             ▼             ▼
  提升认知     利弊分析     设定目标     持续支持     预防复发
  不施压力     增强信心     制定计划     监测进度     强化成就
```

**当前状态**:
- ✅ 已完成: 理论框架、数据结构设计
- ⏳ 待开发: H5用户端应用、行为干预流程、进度追踪系统

**产品形态**: 移动端H5应用/小程序，用户日常使用

---

### 3.3 触手3: 教练培养体系 (教练能力认证)

**目标**: 标准化培养健康教练，建立认证体系

**教练等级体系**:

```
┌─────────────────────────────────────────────────────────────┐
│                      教练晋升路径                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   L0 学员  ──▶  L1 初级  ──▶  L2 中级  ──▶  L3 高级  ──▶  L4 督导  │
│                                                             │
│   注册      通过L1考试   通过L2考试    通过L3考试    专家认证  │
│   学习课程   带5名学员    +实操案例     +督导记录     课程开发  │
│                         带20名学员    带50名学员              │
│                                      可带教练                │
└─────────────────────────────────────────────────────────────┘
```

**当前状态**:
- ✅ 已完成: 管理后台框架、登录认证、课程管理、考试系统、题库管理、学员管理
- 🔨 进行中: 教练管理、晋级审核
- ⏳ 待开发: 直播培训、系统设置

**产品形态**: Web管理后台，管理员和教练使用

---

## 四、技术架构

### 4.1 技术栈总览

```
┌─────────────────────────────────────────────────────────────┐
│                        技术架构图                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐ │
│  │  用户端 H5  │  │  管理后台   │  │   专家对话界面      │ │
│  │  (待开发)   │  │   Vue 3     │  │   Dify Web         │ │
│  └──────┬──────┘  └──────┬──────┘  └──────────┬──────────┘ │
│         │                │                     │            │
│  ───────┴────────────────┴─────────────────────┴─────────── │
│                          │                                  │
│                    ┌─────┴─────┐                           │
│                    │  API网关   │                           │
│                    │  Nginx    │                           │
│                    └─────┬─────┘                           │
│                          │                                  │
│         ┌────────────────┼────────────────┐                │
│         ▼                ▼                ▼                │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐        │
│  │  Dify API   │  │  FastAPI    │  │  Ollama     │        │
│  │  AI编排     │  │  业务后端   │  │  本地模型   │        │
│  └──────┬──────┘  └──────┬──────┘  └─────────────┘        │
│         │                │                                  │
│  ───────┴────────────────┴───────────────────────────────  │
│                          │                                  │
│         ┌────────────────┼────────────────┐                │
│         ▼                ▼                ▼                │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐        │
│  │ PostgreSQL  │  │   Redis     │  │  Weaviate   │        │
│  │  关系数据库  │  │   缓存      │  │  向量数据库  │        │
│  └─────────────┘  └─────────────┘  └─────────────┘        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 技术选型理由

| 层次 | 技术选择 | 选型理由 |
|------|----------|----------|
| **AI平台** | Dify | 开源、可视化编排、支持多模型、RAG内置 |
| **本地模型** | Ollama + qwen2.5 | 免费、隐私保护、中文能力强 |
| **云端模型** | Claude API | 复杂推理能力强、工具调用支持好 |
| **前端** | Vue 3 + Ant Design | 成熟生态、组件丰富、开发效率高 |
| **后端** | FastAPI | Python生态、异步高性能、AI集成方便 |
| **数据库** | PostgreSQL | 稳定可靠、功能完善 |
| **向量库** | Weaviate | 专业向量搜索、与Dify集成好 |
| **部署** | Docker | 环境一致性、便于部署和迁移 |

### 4.3 部署架构

```
┌─────────────────────────────────────────────────────────────┐
│                     本地开发环境                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   Windows Server / 开发机                                   │
│                                                             │
│   ┌─────────────────────────────────────────────────────┐  │
│   │                 Docker Desktop                       │  │
│   │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐   │  │
│   │  │dify-api │ │dify-web │ │  nginx  │ │postgres │   │  │
│   │  │ :5001   │ │ :3000   │ │ :8080   │ │ :5432   │   │  │
│   │  └─────────┘ └─────────┘ └─────────┘ └─────────┘   │  │
│   │  ┌─────────┐ ┌─────────┐ ┌─────────┐               │  │
│   │  │  redis  │ │weaviate │ │ sandbox │               │  │
│   │  │ :6379   │ │ :8080   │ │ :8194   │               │  │
│   │  └─────────┘ └─────────┘ └─────────┘               │  │
│   └─────────────────────────────────────────────────────┘  │
│                                                             │
│   ┌─────────────┐  ┌─────────────┐                         │
│   │   Ollama    │  │ Admin Portal│                         │
│   │   :11434    │  │   :5173     │                         │
│   │  (原生安装)  │  │  (npm dev)  │                         │
│   └─────────────┘  └─────────────┘                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 五、项目进度总览

### 5.1 完成状态矩阵

```
图例: ✅完成 🔨进行中 ⏳待开发 🔒已冻结(稳定不改)

┌──────────────────────────────────────────────────────────────┐
│                     模块完成状态                              │
├────────────────┬──────────┬────────┬─────────────────────────┤
│ 模块           │ 所属     │ 状态   │ 说明                    │
├────────────────┼──────────┼────────┼─────────────────────────┤
│ Dify平台配置   │ 基础设施 │ ✅🔒  │ 已部署，配置稳定        │
│ Docker编排     │ 基础设施 │ ✅🔒  │ 8个服务容器正常运行     │
│ Ollama模型     │ AI层     │ ✅🔒  │ qwen2.5:14b 已配置      │
│ 吃动守恒专家   │ 触手1    │ ✅🔒  │ 首个专家Chatflow完成    │
├────────────────┼──────────┼────────┼─────────────────────────┤
│ 登录模块       │ 触手3    │ ✅🔒  │ 三种角色权限            │
│ 课程管理       │ 触手3    │ ✅     │ 列表+编辑               │
│ 考试系统       │ 触手3    │ ✅     │ 列表+编辑+成绩          │
│ 题库管理       │ 触手3    │ ✅     │ 列表+编辑               │
│ 学员管理       │ 触手3    │ ✅     │ 含资质上传              │
├────────────────┼──────────┼────────┼─────────────────────────┤
│ 教练管理       │ 触手3    │ 🔨     │ 列表+详情开发中         │
│ 晋级审核       │ 触手3    │ 🔨     │ 审核流程开发中          │
├────────────────┼──────────┼────────┼─────────────────────────┤
│ 直播管理       │ 触手3    │ ⏳     │ 待开发                  │
│ 系统设置       │ 触手3    │ ⏳     │ 待开发                  │
│ 用户H5应用     │ 触手2    │ ⏳     │ 待开发                  │
│ FastAPI后端    │ 业务层   │ ⏳     │ 待开发                  │
└────────────────┴──────────┴────────┴─────────────────────────┘
```

### 5.2 整体完成度

```
基础设施层:  ████████████████████ 100%
AI能力层:    ████████████████░░░░  80%
触手1(专家): ████████████████░░░░  80%
触手2(用户): ████░░░░░░░░░░░░░░░░  20%
触手3(教练): ████████████████░░░░  80%
后端API层:   ████░░░░░░░░░░░░░░░░  20%

总体进度:    ████████████░░░░░░░░  60%
```

---

## 六、代码仓库结构

```
behavioral-health-project/
│
├── 📁 dify-setup/              # Dify配置 [🔒已冻结]
│   └── docker-compose.yaml     # Docker编排文件
│
├── 📁 admin-portal/            # 管理后台 (触手3)
│   ├── src/
│   │   ├── views/              # 页面组件
│   │   │   ├── Login.vue       # 登录 ✅
│   │   │   ├── dashboard/      # 工作台 ✅
│   │   │   ├── course/         # 课程管理 ✅
│   │   │   ├── exam/           # 考试系统 ✅
│   │   │   ├── coach/          # 教练管理 🔨
│   │   │   └── live/           # 直播管理 ⏳
│   │   ├── router/             # 路由配置
│   │   ├── stores/             # 状态管理
│   │   └── utils/              # 工具函数
│   └── package.json
│
├── 📁 h5/                      # 用户端H5 (触手2) ⏳
│   └── (待开发)
│
├── 📁 docs/                    # 项目文档
│   ├── TABLES_EXPORT.md        # 表格汇总
│   ├── LOGIC_DIAGRAM.md        # 逻辑关系图
│   ├── CLAUDE_INTEGRATION.md   # Claude集成方案
│   └── PROJECT_OVERVIEW.md     # 本文档
│
├── 📄 start.bat                # 一键启动脚本
├── 📄 stop.bat                 # 停止服务脚本
├── 📄 status.bat               # 状态检查脚本
├── 📄 .env.example             # 环境变量模板
└── 📄 .gitignore               # Git忽略规则
```

---

## 七、关键技术指标

### 7.1 当前环境配置

| 项目 | 配置值 |
|------|--------|
| Dify访问地址 | http://localhost:8080 |
| Ollama地址 | http://localhost:11434 |
| 管理后台地址 | http://localhost:5173 |
| 主模型 | qwen2.5:14b (9GB) |
| 备选模型 | deepseek-r1:7b (4.7GB) |
| 向量模型 | nomic-embed-text (274MB) |
| API Key | app-TSdoLNkz636aipfD9zTtHdEY |

### 7.2 系统要求

| 资源 | 最低要求 | 推荐配置 |
|------|----------|----------|
| CPU | 4核 | 8核+ |
| 内存 | 16GB | 32GB+ |
| 显存 | 8GB | 16GB+ |
| 存储 | 50GB | 100GB+ |
| 操作系统 | Windows 10/11, Linux | Windows Server 2022 |

---

## 八、下一步工作建议

### 8.1 优先级排序

```
┌─────────────────────────────────────────────────────────────┐
│                   开发优先级矩阵                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  紧急度 ▲                                                   │
│         │                                                   │
│    高   │  ┌─────────────┐   ┌─────────────┐              │
│         │  │ 教练管理完善 │   │ FastAPI后端 │              │
│         │  │ (触手3核心)  │   │ (数据持久化)│              │
│         │  └─────────────┘   └─────────────┘              │
│         │                                                   │
│    中   │  ┌─────────────┐   ┌─────────────┐              │
│         │  │ 晋级审核    │   │ 用户H5应用  │              │
│         │  │ (业务闭环)  │   │ (触手2启动) │              │
│         │  └─────────────┘   └─────────────┘              │
│         │                                                   │
│    低   │  ┌─────────────┐   ┌─────────────┐              │
│         │  │ 直播管理    │   │ 更多专家入驻│              │
│         │  │ (增值功能)  │   │ (规模扩展)  │              │
│         │  └─────────────┘   └─────────────┘              │
│         │                                                   │
│         └───────────────────────────────────────────▶      │
│              低                中                高   重要度 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 8.2 建议开发顺序

| 阶段 | 任务 | 产出 | 里程碑意义 |
|------|------|------|------------|
| **Phase 1** | 完成触手3教练管理 | 教练列表、详情、晋级审核 | 教练培养体系可运行 |
| **Phase 2** | 搭建FastAPI后端 | 用户/教练/课程API | 数据可持久化存储 |
| **Phase 3** | 启动触手2用户H5 | 用户注册、TTM评估、目标设定 | 用户端可体验 |
| **Phase 4** | 集成Claude API | 智能路由、工具调用 | AI能力升级 |
| **Phase 5** | 专家入驻机制 | 知识上传、审核、收益 | 专家生态启动 |

### 8.3 资源需求评估

| 角色 | 人数 | 主要职责 |
|------|------|----------|
| 前端开发 | 1-2人 | 管理后台完善、H5开发 |
| 后端开发 | 1-2人 | FastAPI、数据库设计 |
| AI工程师 | 1人 | 模型调优、RAG优化 |
| 产品经理 | 1人 | 需求细化、用户调研 |
| 测试 | 1人 | 功能测试、用户体验 |

---

## 九、风险与应对

| 风险类型 | 具体风险 | 应对措施 |
|----------|----------|----------|
| **技术风险** | 本地模型能力不足 | 已规划Claude API作为补充 |
| **数据风险** | 健康数据敏感 | 本地部署、数据加密、权限控制 |
| **运营风险** | 专家资源不足 | 先做好"吃动守恒"示范，逐步吸引 |
| **市场风险** | 用户获取困难 | 先服务B端(企业健康管理)，再拓展C端 |

---

## 十、项目亮点

### 10.1 技术亮点

1. **双引擎AI架构**: 本地Ollama保隐私，云端Claude保质量
2. **可视化AI编排**: Dify平台让非技术人员也能创建AI应用
3. **模块化设计**: 三条触手独立开发，互不影响
4. **变更可控**: 冻结机制保护已稳定模块

### 10.2 业务亮点

1. **理论支撑**: 基于成熟的TTM行为改变模型
2. **闭环设计**: 专家→平台→教练→用户→反馈→专家
3. **可扩展性**: 支持多专家、多领域健康知识
4. **认证体系**: L0-L4五级教练认证，标准化培养

---

## 附录: 核心术语表

| 术语 | 解释 |
|------|------|
| TTM | 跨理论模型，描述行为改变的5个阶段 |
| MI | 动机访谈，一种引导内在动机的沟通技术 |
| SMART | 目标设定原则(具体、可衡量、可达成、相关、有时限) |
| RAG | 检索增强生成，让AI基于知识库回答问题 |
| Chatflow | 在Dify中创建的AI对话流程 |
| 触手 | 本项目中指独立的业务主线 |
| 冻结 | 已稳定的模块，不再随意修改 |

---

*本文档持续更新，如有疑问请联系技术规划团队*

**GitHub仓库**: https://github.com/ICELANF/behavioral-health-project
