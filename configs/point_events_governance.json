{
  "_meta": {
    "version": "4.0.0",
    "source": "Sheet⑦ 积分契约 · 治理新增区",
    "created": "2026-02-15",
    "description": "治理层10种新增积分事件配置。合并到现有 point_events.json 中。",
    "total_new_events": 10,
    "categories": {
      "growth": "成长分 — 个人能力提升行为",
      "contribution": "贡献分 — 服务他人/平台行为",
      "influence": "影响力分 — 推动体系/行业行为"
    }
  },

  "governance_events": [
    {
      "event_id": "GOV-01",
      "event_type": "ethics_scenario_test",
      "display_name": "完成伦理情景测试",
      "point_type": "growth",
      "points": 50,
      "daily_cap": 1,
      "min_role": "sharer",
      "min_role_level": 3,
      "trigger_source": "exam_system",
      "trigger_action": "exam.ethics_scenario.passed",
      "description": "完成5道伦理情景测试并通过",
      "contract_ref": "Sheet⑦ 治理新增行1 + Sheet⑨ Day2安全边界",
      "notes": "教练入口B培训也适用",
      "anti_cheat": ["AS-01", "AS-05"],
      "audit_required": true
    },
    {
      "event_id": "GOV-02",
      "event_type": "competency_self_assessment",
      "display_name": "完成能力自评问卷",
      "point_type": "growth",
      "points": 30,
      "daily_cap": 1,
      "min_role": "sharer",
      "min_role_level": 3,
      "trigger_source": "questionnaire_engine",
      "trigger_action": "questionnaire.competency_self_eval.submitted",
      "description": "完成11领域能力自评(1-5分)",
      "contract_ref": "Sheet⑦ 治理新增行2 + Sheet⑨ Day3能力地图",
      "notes": "",
      "anti_cheat": ["AS-01", "AS-05"],
      "audit_required": true
    },
    {
      "event_id": "GOV-03",
      "event_type": "ethics_declaration_signed",
      "display_name": "伦理宣言签署/更新",
      "point_type": "contribution",
      "points": 30,
      "daily_cap": null,
      "min_role": "coach",
      "min_role_level": 4,
      "trigger_source": "promotion_ceremony",
      "trigger_action": "ceremony.ethics_declaration.signed",
      "description": "签署或更新教练伦理宣言5条",
      "contract_ref": "Sheet⑦ 治理新增行3 + Sheet⑨ Day7持杖者仪式",
      "notes": "入口A/B统一标准",
      "anti_cheat": ["AS-05"],
      "audit_required": true
    },
    {
      "event_id": "GOV-04",
      "event_type": "conflict_disclosure_update",
      "display_name": "利益冲突披露更新",
      "point_type": "contribution",
      "points": 20,
      "daily_cap": 1,
      "min_role": "senior_coach",
      "min_role_level": 5,
      "trigger_source": "questionnaire_engine",
      "trigger_action": "questionnaire.conflict_disclosure.submitted",
      "description": "更新利益冲突披露信息",
      "contract_ref": "Sheet⑦ 治理新增行4",
      "notes": "",
      "anti_cheat": ["AS-01"],
      "audit_required": true
    },
    {
      "event_id": "GOV-05",
      "event_type": "alert_timely_response",
      "display_name": "告警及时处置(≤4h)",
      "point_type": "contribution",
      "points": 15,
      "daily_cap": 5,
      "min_role": "coach",
      "min_role_level": 4,
      "trigger_source": "device_alerts",
      "trigger_action": "alert.responded_within_threshold",
      "description": "在4小时内响应学员设备告警",
      "contract_ref": "Sheet⑦ 治理新增行5 + Sheet⑥ 告警及时处置",
      "notes": "自动检测响应时间",
      "anti_cheat": ["AS-01", "AS-04"],
      "audit_required": true,
      "validation_rules": {
        "response_time_max_hours": 4,
        "requires_action_record": true
      }
    },
    {
      "event_id": "GOV-06",
      "event_type": "student_message_reply",
      "display_name": "学员消息及时回复",
      "point_type": "contribution",
      "points": 10,
      "daily_cap": 10,
      "min_role": "coach",
      "min_role_level": 4,
      "trigger_source": "messages_api",
      "trigger_action": "message.coach_reply.sent",
      "description": "及时回复学员消息",
      "contract_ref": "Sheet⑦ 治理新增行6",
      "notes": "",
      "anti_cheat": ["AS-01", "AS-03", "AS-06"],
      "audit_required": false
    },
    {
      "event_id": "GOV-07",
      "event_type": "supervision_session_completed",
      "display_name": "督导会议完成",
      "point_type": "influence",
      "points": 50,
      "daily_cap": null,
      "min_role": "senior_coach",
      "min_role_level": 5,
      "trigger_source": "supervision_center",
      "trigger_action": "supervision.session.completed",
      "description": "完成一次督导会议并提交记录",
      "contract_ref": "Sheet⑦ 治理新增行7",
      "notes": "",
      "anti_cheat": ["AS-04", "AS-05"],
      "audit_required": true
    },
    {
      "event_id": "GOV-08",
      "event_type": "agent_feedback_reply",
      "display_name": "Agent反馈回复",
      "point_type": "contribution",
      "points": 10,
      "daily_cap": 5,
      "min_role": "senior_coach",
      "min_role_level": 5,
      "trigger_source": "agent_feedback",
      "trigger_action": "feedback.agent.replied",
      "description": "回复Agent使用反馈,改进Agent质量",
      "contract_ref": "Sheet⑦ 治理新增行8 + Sheet⑫ Agent反馈",
      "notes": "",
      "anti_cheat": ["AS-01", "AS-02"],
      "audit_required": false
    },
    {
      "event_id": "GOV-09",
      "event_type": "knowledge_shared",
      "display_name": "知识库共享贡献",
      "point_type": "influence",
      "points": 30,
      "daily_cap": 3,
      "min_role": "senior_coach",
      "min_role_level": 5,
      "trigger_source": "knowledge_sharing",
      "trigger_action": "knowledge.contribution.approved",
      "description": "向知识库共享专业内容(需审核通过)",
      "contract_ref": "Sheet⑦ 治理新增行9 + Sheet⑫ 知识共享",
      "notes": "审核通过后才计分",
      "anti_cheat": ["AS-01", "AS-02", "AS-04"],
      "audit_required": true,
      "validation_rules": {
        "requires_review_approval": true
      }
    },
    {
      "event_id": "GOV-10",
      "event_type": "certificate_renewal_confirmed",
      "display_name": "证书定期更新确认",
      "point_type": "growth",
      "points": 20,
      "daily_cap": 1,
      "min_role": "senior_coach",
      "min_role_level": 5,
      "trigger_source": "scheduled_task",
      "trigger_action": "certificate.renewal.confirmed",
      "description": "定期确认证书有效性并更新",
      "contract_ref": "Sheet⑦ 治理新增行10",
      "notes": "定时任务触发提醒,用户确认后计分",
      "anti_cheat": ["AS-01"],
      "audit_required": true
    }
  ],

  "agent_ecosystem_events": [
    {
      "event_id": "AGT-01",
      "event_type": "create_agent",
      "display_name": "创建Agent",
      "point_type": "contribution",
      "points": 20,
      "daily_cap": null,
      "frequency_limit": "每个Agent仅1次",
      "min_role": "supervisor",
      "trigger_source": "ecosystem_service",
      "trigger_action": "agent.created",
      "contract_ref": "Sheet⑦ Agent生态积分 + Sheet⑬ S4创建"
    },
    {
      "event_id": "AGT-02",
      "event_type": "optimize_prompt",
      "display_name": "优化Prompt",
      "point_type": "contribution",
      "points": 10,
      "daily_cap": null,
      "frequency_limit": "每Agent每月≤5次",
      "min_role": "supervisor",
      "trigger_source": "feedback_service",
      "trigger_action": "prompt.version.created",
      "contract_ref": "Sheet⑦ Agent生态积分 + Sheet⑫ Prompt迭代"
    },
    {
      "event_id": "AGT-03",
      "event_type": "share_knowledge",
      "display_name": "贡献知识到领域池",
      "point_type": "influence",
      "points": 15,
      "daily_cap": null,
      "min_role": "supervisor",
      "trigger_source": "sharing_service",
      "trigger_action": "knowledge.domain.contributed",
      "contract_ref": "Sheet⑦ Agent生态积分 + Sheet⑫ 知识共享"
    },
    {
      "event_id": "AGT-04",
      "event_type": "template_published",
      "display_name": "发布到市场",
      "point_type": "influence",
      "points": 30,
      "daily_cap": null,
      "frequency_limit": "每Agent仅1次",
      "min_role": "supervisor",
      "trigger_source": "ecosystem_service",
      "trigger_action": "agent.marketplace.published",
      "contract_ref": "Sheet⑦ Agent生态积分 + Sheet⑫ 市场发布"
    },
    {
      "event_id": "AGT-05",
      "event_type": "template_installed",
      "display_name": "被他人安装",
      "point_type": "influence",
      "points": 5,
      "daily_cap": null,
      "min_role": "supervisor",
      "trigger_source": "ecosystem_service",
      "trigger_action": "agent.marketplace.installed",
      "contract_ref": "Sheet⑦ Agent生态积分 + Sheet⑫ 安装克隆",
      "notes": "被动获得,每次安装+5"
    }
  ],

  "integration_guide": {
    "merge_into": "config/point_events.json",
    "existing_events_count": 4,
    "new_governance_events": 10,
    "new_agent_events": 5,
    "total_after_merge": 19,
    "steps": [
      "1. 将 governance_events 数组合并到现有 point_events.json 的 events 数组中",
      "2. 将 agent_ecosystem_events 数组合并到同一 events 数组中",
      "3. 更新 IncentiveEngine 的 event_registry 以识别新的 event_type",
      "4. 在各 trigger_source 服务中添加积分触发调用",
      "5. 运行 pytest tests/test_incentive_engine.py 验证积分计算",
      "6. 验证 anti_cheat 策略关联 (AS-01~AS-06)"
    ]
  }
}
